(self.webpackChunkpersonal_website_v3=self.webpackChunkpersonal_website_v3||[]).push([[822],{1223:function(e,n,t){var r=t(5112),o=t(30),i=t(3070),a=r("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),e.exports=function(e){c[a][e]=!0}},5417:function(e,n,t){var r=t(111),o=t(3157),i=t(5112)("species");e.exports=function(e,n){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)?r(t)&&null===(t=t[i])&&(t=void 0):t=void 0),new(void 0===t?Array:t)(0===n?0:n)}},6790:function(e,n,t){"use strict";var r=t(3157),o=t(7466),i=t(9974),a=function(e,n,t,c,u,l,s,d){for(var f,h=u,p=0,m=!!s&&i(s,d,3);p<c;){if(p in t){if(f=m?m(t[p],p,n):t[p],l>0&&r(f))h=a(e,n,f,o(f.length),h,l-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=f}h++}p++}return h};e.exports=a},9974:function(e,n,t){var r=t(3099);e.exports=function(e,n,t){if(r(e),void 0===n)return e;switch(t){case 0:return function(){return e.call(n)};case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,o){return e.call(n,t,r,o)}}return function(){return e.apply(n,arguments)}}},490:function(e,n,t){var r=t(5005);e.exports=r("document","documentElement")},3157:function(e,n,t){var r=t(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},30:function(e,n,t){var r,o=t(9670),i=t(6048),a=t(748),c=t(3501),u=t(490),l=t(317),s=t(6200),d=s("IE_PROTO"),f=function(){},h=function(e){return"<script>"+e+"</"+"script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(o){}var e,n;p=r?function(e){e.write(h("")),e.close();var n=e.parentWindow.Object;return e=null,n}(r):((n=l("iframe")).style.display="none",u.appendChild(n),n.src=String("javascript:"),(e=n.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var t=a.length;t--;)delete p.prototype[a[t]];return p()};c[d]=!0,e.exports=Object.create||function(e,n){var t;return null!==e?(f.prototype=o(e),t=new f,f.prototype=null,t[d]=e):t=p(),void 0===n?t:i(t,n)}},6048:function(e,n,t){var r=t(9781),o=t(3070),i=t(9670),a=t(1956);e.exports=r?Object.defineProperties:function(e,n){i(e);for(var t,r=a(n),c=r.length,u=0;c>u;)o.f(e,t=r[u++],n[t]);return e}},1956:function(e,n,t){var r=t(6324),o=t(748);e.exports=Object.keys||function(e){return r(e,o)}},6535:function(e,n,t){"use strict";var r=t(2109),o=t(6790),i=t(7908),a=t(7466),c=t(3099),u=t(5417);r({target:"Array",proto:!0},{flatMap:function(e){var n,t=i(this),r=a(t.length);return c(e),(n=u(t,0)).length=o(n,t,t,r,0,1,e,arguments.length>1?arguments[1]:void 0),n}})},9244:function(e,n,t){t(1223)("flatMap")},5750:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return nt}});var r=t(7294),o=t(5414),i=t(9),a=t(537),c=t(355),u=t(7140),l=t(3082),s=t(9285);var d=t(2961);function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,n)||(0,d.Z)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p=t(9756);function m(e,n){if(null==e)return{};var t,r,o=(0,p.Z)(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var v=t(7329),g=(t(6535),t(9244),"carousel"),b="controller",y="portal",x="toolbar",w="zoom",E="loading",M="error",k="complete",C=function(e){return"active-slide-".concat(e)},P=(C(E),C("playing"),C(M),C(k),"fullsize"),N="flex_center",I="no_scroll_padding",O="prev",S="next",R="swipe",L="close",z="onPointerDown",Z="onPointerMove",D="onPointerUp",_="onPointerLeave",A="onPointerCancel",j="onKeyDown",W="onWheel",T="icon",F="contain",X="cover",Y="Unknown action type",H=t(3935);function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach((function(n){h(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var K={open:!1,close:function(){},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[L]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:F,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullDown:!1,closeOnBackdropClick:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function V(e,n){return{name:e,component:n}}function G(e,n){return{module:e,children:n}}function J(e,n,t){return e.module.name===n?t(e):e.children?[G(e.module,e.children.flatMap((function(e){var r;return null!==(r=J(e,n,t))&&void 0!==r?r:[]})))]:[e]}function q(e,n,t){return e.flatMap((function(e){var r;return null!==(r=J(e,n,t))&&void 0!==r?r:[]}))}var Q=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return[].concat(n).filter((function(e){return Boolean(e)})).join(" ")},$="yarl__",ee=function(e){return"".concat($).concat(e)},ne=function(e){return"--".concat($).concat(e)},te=function(e,n){return"".concat(e).concat(n?"_".concat(n):"")},re=function(e){return function(n){return te(e,n)}},oe=function(e,n){return e&&e[n]?e[n]:n},ie=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(){n.forEach((function(e){e()}))}},ae=function(e,n,t){return function(){var o=r.useContext(t);if(!o)throw new Error("".concat(e," must be used within a ").concat(n,".Provider"));return o}},ce=function(){return"undefined"!=typeof window};function ue(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=Math.pow(10,n);return Math.round((e+Number.EPSILON)*t)/t}var le=function(e){return void 0===e.type||"image"===e.type},se=function(e,n){return e.imageFit===X||e.imageFit!==F&&n===X};function de(e){if("number"==typeof e)return{pixel:e};if("string"==typeof e){var n=parseInt(e,10);return e.endsWith("%")?{percent:n}:{pixel:n}}return{pixel:0}}function fe(e,n){var t=de(n),r=void 0!==t.percent?e.width/100*t.percent:t.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}var he=function(e,n){return n>0?(e%n+n)%n:0},pe=function(e){return e.length>0},me=function(e,n){return pe(e)?function(e,n){return e[he(n,e.length)]}(e,n):void 0};function ve(e,n,t){if(!t)return e;var o=e.buttons,i=m(e,["buttons"]),a=o.findIndex((function(e){return e===n})),c=r.isValidElement(t)?r.cloneElement(t,{key:n},null):t;if(a>=0){var u=(0,v.Z)(o);return u.splice(a,1,c),B({buttons:u},i)}return B({buttons:[c].concat((0,v.Z)(o))},i)}var ge=r.createContext(null),be=ae("useEvents","EventsContext",ge);function ye(e){var n=e.children,t=f(r.useState({}),1)[0];r.useEffect((function(){return function(){Object.keys(t).forEach((function(e){return delete t[e]}))}}),[t]);var o=r.useMemo((function(){var e=function(e,n){var r,o;null===(o=t[e])||void 0===o||(r=o).splice.apply(r,[0,t[e].length].concat((0,v.Z)(t[e].filter((function(e){return e!==n})))))};return{publish:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o,i=n[0],a=n[1];null===(o=t[i])||void 0===o||o.forEach((function(e){return e(a)}))},subscribe:function(n,r){return t[n]||(t[n]=[]),t[n].push(r),function(){return e(n,r)}},unsubscribe:e}}),[t]);return r.createElement(ge.Provider,{value:o},n)}var xe=r.createContext(null),we=ae("useLightboxProps","LightboxPropsContext",xe);function Ee(e){var n=e.children,t=m(e,["children"]);return r.createElement(xe.Provider,{value:t},n)}var Me=r.createContext(null),ke=ae("useLightboxState","LightboxStateContext",Me),Ce=r.createContext(null),Pe=ae("useLightboxDispatch","LightboxDispatchContext",Ce);function Ne(e,n){switch(n.type){case"swipe":var t=e.slides,r=(null==n?void 0:n.increment)||0,o=e.globalIndex+r,i=he(o,t.length);return{slides:t,currentIndex:i,globalIndex:o,currentSlide:me(t,i),animation:r||n.duration?{increment:r,duration:n.duration,easing:n.easing}:void 0};case"update":return{slides:n.slides,currentIndex:n.index,globalIndex:n.index,currentSlide:me(n.slides,n.index)};default:throw new Error(Y)}}function Ie(e){var n=e.slides,t=e.index,o=e.children,i=f(r.useReducer(Ne,{slides:n,currentIndex:t,globalIndex:t,currentSlide:me(n,t)}),2),a=i[0],c=i[1];r.useEffect((function(){c({type:"update",slides:n,index:t})}),[n,t]);var u=r.useMemo((function(){return B(B({},a),{},{state:a,dispatch:c})}),[a,c]);return r.createElement(Ce.Provider,{value:c},r.createElement(Me.Provider,{value:u},o))}var Oe=r.createContext(null),Se=ae("useTimeouts","TimeoutsContext",Oe);function Re(e){var n=e.children,t=f(r.useState([]),1)[0];r.useEffect((function(){return function(){t.forEach((function(e){return window.clearTimeout(e)})),t.splice(0,t.length)}}),[t]);var o=r.useMemo((function(){var e=function(e){t.splice.apply(t,[0,t.length].concat((0,v.Z)(t.filter((function(n){return n!==e})))))};return{setTimeout:function(n,r){var o=window.setTimeout((function(){e(o),n()}),r);return t.push(o),o},clearTimeout:function(n){void 0!==n&&(e(n),window.clearTimeout(n))}}}),[t]);return r.createElement(Oe.Provider,{value:o},n)}var Le=r.forwardRef((function(e,n){var t=e.label,o=e.className,i=e.icon,a=e.renderIcon,c=e.onClick,u=e.style,l=m(e,["label","className","icon","renderIcon","onClick","style"]),s=we(),d=s.styles,f=s.labels;return r.createElement("button",B({ref:n,type:"button","aria-label":oe(f,t),className:Q(ee("button"),o),onClick:c,style:B(B({},u),d.button)},l),a?a():r.createElement(i,{className:ee(T),style:d.icon}))}));function ze(e,n){var t=function(e){return r.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},e),n)};return t.displayName=e,t}function Ze(e,n){return ze(e,r.createElement("g",{fill:"currentColor"},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n))}var De=Ze("Close",r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),_e=Ze("Previous",r.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Ae=Ze("Next",r.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),je=Ze("Loading",r.createElement(r.Fragment,null,Array.from({length:8}).map((function(e,n,t){return r.createElement("line",{key:n,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/t.length*(n+1),transform:"rotate(".concat(360/t.length*n,", 12, 12)")})})))),We=Ze("Error",r.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Te=ce()?r.useLayoutEffect:r.useEffect;function Fe(){var e=f(r.useState(!1),2),n=e[0],t=e[1];return r.useEffect((function(){var e,n,r=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-reduced-motion: reduce)");t(null==r?void 0:r.matches);var o=function(e){return t(e.matches)};return null===(n=null==r?void 0:r.addEventListener)||void 0===n||n.call(r,"change",o),function(){var e;return null===(e=null==r?void 0:r.removeEventListener)||void 0===e?void 0:e.call(r,"change",o)}}),[]),n}function Xe(e,n){var t=r.useRef(),o=r.useRef(),i=Fe();return Te((function(){var r,a,c;if(e.current&&void 0!==t.current&&!i){var u=n(t.current,e.current.getBoundingClientRect(),function(e){var n=0,t=0,r=0,o=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(o){var i=o[1].split(",").map((function(e){return Number.parseInt(e,10)}));6===i.length?(n=i[4],t=i[5]):16===i.length&&(n=i[12],t=i[13],r=i[14])}return{x:n,y:t,z:r}}(e.current))||{},l=u.keyframes,s=u.duration,d=u.easing,f=u.onfinish;if(l&&s){null===(r=o.current)||void 0===r||r.cancel(),o.current=void 0;try{o.current=null===(c=(a=e.current).animate)||void 0===c?void 0:c.call(a,l,{duration:s,easing:d})}catch(h){console.error(h)}o.current&&(o.current.onfinish=function(){o.current=void 0,null==f||f()})}}t.current=void 0})),{prepareAnimation:function(e){t.current=e},isAnimationPlaying:function(){var e;return"running"===(null===(e=o.current)||void 0===e?void 0:e.playState)}}}function Ye(){var e=r.useRef(null),n=r.useRef(),t=f(r.useState(),2),o=t[0],i=t[1];return{setContainerRef:r.useCallback((function(t){e.current=t,n.current&&(n.current.disconnect(),n.current=void 0);var r=function(){if(t){var e=window.getComputedStyle(t),n=function(e){return parseFloat(e)||0};i({width:Math.round(t.clientWidth-n(e.paddingLeft)-n(e.paddingRight)),height:Math.round(t.clientHeight-n(e.paddingTop)-n(e.paddingBottom))})}else i(void 0)};r(),t&&"undefined"!=typeof ResizeObserver&&(n.current=new ResizeObserver(r),n.current.observe(t))}),[]),containerRef:e,containerRect:o}}function He(){var e=r.useRef(),n=Se(),t=n.setTimeout,o=n.clearTimeout;return r.useCallback((function(n,r){o(e.current),e.current=t(n,r>0?r:0)}),[t,o])}function Ue(e){var n=r.useRef(e);return Te((function(){n.current=e})),r.useCallback((function(){for(var e,t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(t=n.current)||void 0===t?void 0:(e=t).call.apply(e,[n].concat(o))}),[])}function Be(e,n){"function"==typeof e?e(n):e&&(e.current=n)}function Ke(e,n){return r.useMemo((function(){return null==e&&null==n?null:function(t){Be(e,t),Be(n,t)}}),[e,n])}function Ve(){var e=f(r.useState(!1),2),n=e[0],t=e[1];return Te((function(){t("rtl"===window.getComputedStyle(window.document.documentElement).direction)}),[]),n}function Ge(e,n){var t=r.useRef(0),o=He(),i=Ue((function(){t.current=Date.now();for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e(r)}));return r.useCallback((function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];o((function(){i(r)}),n-(Date.now()-t.current))}),[n,i,o])}var Je,qe,Qe=re("slide"),$e=re("slide_image");function en(e){var n,t,o,i,a,c,u,l=e.slide,s=e.offset,d=e.render,h=e.rect,p=e.imageFit,g=e.imageProps,b=e.onClick,y=e.onLoad,x=e.style,w=f(r.useState(E),2),P=w[0],N=w[1],I=be().publish,O=Se().setTimeout,S=r.useRef(null);r.useEffect((function(){0===s&&I(C(P))}),[s,P,I]);var R=Ue((function(e){("decode"in e?e.decode():Promise.resolve()).catch((function(){})).then((function(){e.parentNode&&(N(k),O((function(){null==y||y(e)}),0))}))})),L=r.useCallback((function(e){S.current=e,(null==e?void 0:e.complete)&&R(e)}),[R]),z=r.useCallback((function(e){R(e.currentTarget)}),[R]),Z=r.useCallback((function(){N(M)}),[]),D=se(l,p),_=function(e,n){return Number.isFinite(e)?e:n},A=_(Math.max.apply(Math,(0,v.Z)((null!==(t=null===(n=l.srcSet)||void 0===n?void 0:n.map((function(e){return e.width})))&&void 0!==t?t:[]).concat(l.width?[l.width]:[]).filter(Boolean))),(null===(o=S.current)||void 0===o?void 0:o.naturalWidth)||0),j=_(Math.max.apply(Math,(0,v.Z)((null!==(a=null===(i=l.srcSet)||void 0===i?void 0:i.map((function(e){return e.height})))&&void 0!==a?a:[]).concat(l.height?[l.height]:[]).filter(Boolean))),(null===(c=S.current)||void 0===c?void 0:c.naturalHeight)||0),W=A&&j?{maxWidth:"min(".concat(A,"px, 100%)"),maxHeight:"min(".concat(j,"px, 100%)")}:{maxWidth:"100%",maxHeight:"100%"},F=null===(u=l.srcSet)||void 0===u?void 0:u.sort((function(e,n){return e.width-n.width})).map((function(e){return"".concat(e.src," ").concat(e.width,"w")})).join(", "),X=F&&h&&ce()?"".concat(Math.round(Math.min(h&&!D&&l.width&&l.height?h.height/l.height*l.width:Number.MAX_VALUE,h.width)),"px"):void 0,Y=g||{},H=Y.style,U=Y.className,K=m(Y,["style","className"]);return r.createElement(r.Fragment,null,r.createElement("img",B(B({ref:L,onLoad:z,onError:Z,onClick:b,draggable:!1,className:Q(ee($e()),D&&ee($e("cover")),P!==k&&ee($e("loading")),U),style:B(B(B({},W),x),H)},K),{},{alt:l.alt,sizes:X,srcSet:F,src:l.src})),P!==k&&r.createElement("div",{className:ee(Qe("placeholder"))},P===E&&((null==d?void 0:d.iconLoading)?d.iconLoading():r.createElement(je,{className:Q(ee(T),ee(Qe(E)))})),P===M&&((null==d?void 0:d.iconError)?d.iconError():r.createElement(We,{className:Q(ee(T),ee(Qe(M)))}))))}function nn(e,n,t,o,i){r.useEffect((function(){return i?function(){}:ie(e(z,n),e(Z,t),e(D,o),e(_,o),e(A,o))}),[e,n,t,o,i])}!function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL_DOWN=2]="PULL_DOWN",e[e.ANIMATION=3]="ANIMATION"}(Je||(Je={})),function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL_DOWN=2]="PULL_DOWN"}(qe||(qe={}));function tn(e,n,t,o,i,a,c,u,l,s,d,f,h){var p=r.useRef(0),m=r.useRef([]),g=r.useRef(),b=r.useRef(0),y=r.useRef(qe.NONE),x=r.useCallback((function(e){g.current===e.pointerId&&(g.current=void 0,y.current=qe.NONE);var n=m.current;n.splice.apply(n,[0,n.length].concat((0,v.Z)(n.filter((function(n){return n.pointerId!==e.pointerId})))))}),[]),w=r.useCallback((function(e){x(e),e.persist(),m.current.push(e)}),[x]),E=Ue((function(e){w(e)})),M=Ue((function(e){if(m.current.find((function(n){return n.pointerId===e.pointerId}))&&g.current===e.pointerId){var n=Date.now()-b.current,r=p.current;y.current===qe.SWIPE?Math.abs(r)>.3*t||Math.abs(r)>5&&n<o?c(r,n):u(r):y.current===qe.PULL_DOWN&&(r>60?f(r,n):h(r)),p.current=0,y.current=qe.NONE}x(e)}));nn(e,E,Ue((function(e){var t=m.current.find((function(n){return n.pointerId===e.pointerId}));if(t){var r=g.current===e.pointerId;if(0===e.buttons)return void(r&&0!==p.current?M(e):x(t));var o=e.clientX-t.clientX,c=e.clientY-t.clientY;if(void 0===g.current){var u=function(n){w(e),g.current=e.pointerId,b.current=Date.now(),y.current=n};Math.abs(o)>Math.abs(c)&&Math.abs(o)>30&&n(o)?(u(qe.SWIPE),i()):l&&Math.abs(c)>Math.abs(o)&&c>30&&(u(qe.PULL_DOWN),s())}else r&&(y.current===qe.SWIPE?(p.current=o,a(o)):y.current===qe.PULL_DOWN&&(p.current=c,d(c)))}})),M)}var rn="wheel";function on(e){(Math.abs(e.deltaX)>Math.abs(e.deltaY)||e.ctrlKey)&&e.preventDefault()}function an(e,n,t,o,i,a,c,u,l){var s=r.useRef(0),d=r.useRef(0),f=r.useRef(),h=r.useRef(),p=r.useRef(0),m=r.useRef(0),v=Se(),g=v.setTimeout,b=v.clearTimeout,y=r.useCallback((function(){f.current&&(b(f.current),f.current=void 0)}),[b]),x=r.useCallback((function(){h.current&&(b(h.current),h.current=void 0)}),[b]),w=Ue((function(){e!==Je.SWIPE&&(s.current=0,m.current=0,y(),x())}));r.useEffect(w,[e,w]);var E=Ue((function(e){h.current=void 0,s.current===e&&l(s.current)})),M=Ue((function(n){if(!(n.ctrlKey||Math.abs(n.deltaY)>Math.abs(n.deltaX)))if(e===Je.NONE){if(Math.abs(n.deltaX)<=1.2*Math.abs(p.current))return void(p.current=n.deltaX);if(!t(-n.deltaX))return;if(d.current+=n.deltaX,y(),Math.abs(d.current)>30)d.current=0,p.current=0,m.current=Date.now(),a();else{var r=d.current;f.current=g((function(){f.current=void 0,r===d.current&&(d.current=0)}),i)}}else if(e===Je.SWIPE){var l=s.current-n.deltaX;if(l=Math.min(Math.abs(l),o)*Math.sign(l),s.current=l,c(l),x(),Math.abs(l)>.2*o)return p.current=n.deltaX,void u(l,Date.now()-m.current);h.current=g((function(){return E(l)}),2*i)}else p.current=n.deltaX}));r.useEffect((function(){return n(W,M)}),[n,M])}var cn=re("container"),un=r.createContext(null),ln=ae("useController","ControllerContext",un);var sn=V(b,(function(e){var n,t,o,i,a,c=e.children,u=m(e,["children"]),l=u.carousel,s=u.animation,d=u.controller,p=u.on,g=u.styles,b=u.render,y=f(r.useState(),2),x=y[0],w=y[1],E=ke(),M=Pe(),k=f(r.useState(Je.NONE),2),C=k[0],P=k[1],I=r.useRef(0),T=r.useRef(0),F=r.useRef(1),X=(o=f(r.useState({}),1)[0],i=r.useCallback((function(e,n){var t;null===(t=o[e])||void 0===t||t.forEach((function(e){n.isPropagationStopped()||e(n)}))}),[o]),{registerSensors:r.useMemo((function(){return{onPointerDown:function(e){return i(z,e)},onPointerMove:function(e){return i(Z,e)},onPointerUp:function(e){return i(D,e)},onPointerLeave:function(e){return i(_,e)},onPointerCancel:function(e){return i(A,e)},onKeyDown:function(e){return i(j,e)},onKeyUp:function(e){return i("onKeyUp",e)},onWheel:function(e){return i(W,e)}}}),[i]),subscribeSensors:r.useCallback((function(e,n){return o[e]||(o[e]=[]),o[e].unshift(n),function(){var t=o[e];t&&t.splice.apply(t,[0,t.length].concat((0,v.Z)(t.filter((function(e){return e!==n})))))}}),[o])}),Y=X.registerSensors,H=X.subscribeSensors,U=be(),K=U.subscribe,V=U.publish,G=He(),J=He(),q=He(),$=Ye(),te=$.containerRef,re=$.setContainerRef,oe=$.containerRect,ae=Ke((a=r.useRef(null),r.useCallback((function(e){var n;e?e.addEventListener(rn,on,{passive:!1}):null===(n=a.current)||void 0===n||n.removeEventListener(rn,on),a.current=e}),[])),re),ce=r.useRef(null),le=Ke(ce,void 0),se=Ve(),he=function(e){return(se?-1:1)*("number"==typeof e?e:1)},pe=Ue((function(){var e;return null===(e=te.current)||void 0===e?void 0:e.focus()})),me=Ue((function(){return u})),ve=Ue((function(){return E})),ge=r.useCallback((function(e){return V(O,e)}),[V]),ye=r.useCallback((function(e){return V(S,e)}),[V]),xe=r.useCallback((function(){return V(L)}),[V]),we=function(e){return!(l.finite&&(he(e)>0&&0===E.currentIndex||he(e)<0&&E.currentIndex===E.slides.length-1))},Ee=function(e){var n;I.current=e,null===(n=te.current)||void 0===n||n.style.setProperty(ne("swipe_offset"),"".concat(Math.round(e),"px"))},Me=d.closeOnPullDown,Ce=function(e){var n,t;T.current=e,F.current=Math.min(Math.max(ue(1-e/60*.5,2),.5),1),null===(n=te.current)||void 0===n||n.style.setProperty(ne("pull_down_offset"),"".concat(Math.round(e),"px")),null===(t=te.current)||void 0===t||t.style.setProperty(ne("pull_down_opacity"),"".concat(F.current))},Ne=Xe(ce,(function(e,n,t){if(ce.current&&oe)return{keyframes:[{transform:"translate(0, ".concat(e.rect.y-n.y+t.y,"px)"),opacity:e.opacity},{transform:"translate(0, 0)",opacity:1}],duration:e.duration,easing:s.easing.fade}})).prepareAnimation,Ie=function(e,n){if(Me){Ce(e);var t=0;ce.current&&(t=s.fade*(n?2:1),Ne({rect:ce.current.getBoundingClientRect(),opacity:F.current,duration:t})),q((function(){Ce(0),P(Je.NONE)}),t),P(Je.ANIMATION),n||xe()}},Oe=Xe(ce,(function(e,n,t){var r;if(ce.current&&oe&&(null===(r=E.animation)||void 0===r?void 0:r.duration)){var o=de(l.spacing),i=(o.percent?o.percent*oe.width/100:o.pixel)||0;return{keyframes:[{transform:"translate(".concat(he(E.globalIndex-e.index)*(oe.width+i)+e.rect.x-n.x+t.x,"px, 0)")},{transform:"translate(0, 0)"}],duration:E.animation.duration,easing:E.animation.easing}}})),Se=Oe.prepareAnimation,Re=Oe.isAnimationPlaying,Le=Ue((function(e){var n,t,r=e.offset||0,o=r?s.swipe:null!==(n=s.navigation)&&void 0!==n?n:s.swipe,i=r||Re()?s.easing.swipe:s.easing.navigation,a=e.direction,c=null!==(t=e.count)&&void 0!==t?t:1,u=Je.ANIMATION,l=o*c;if(!a){var d=null==oe?void 0:oe.width,f=e.duration||0,h=d?o/d*Math.abs(r):o;0!==c?(f<h?l=l/h*Math.max(f,h/5):d&&(l=o/d*(d-Math.abs(r))),a=he(r)>0?O:S):l=o/2}var p=0;a===O?we(he(1))?p=-c:(u=Je.NONE,l=o):a===S&&(we(he(-1))?p=c:(u=Je.NONE,l=o)),l=Math.round(l),J((function(){Ee(0),P(Je.NONE)}),l),ce.current&&Se({rect:ce.current.getBoundingClientRect(),index:E.globalIndex}),P(u),V(R,{type:"swipe",increment:p,duration:l,easing:i})}));r.useEffect((function(){var e,n;(null===(e=E.animation)||void 0===e?void 0:e.increment)&&(null===(n=E.animation)||void 0===n?void 0:n.duration)&&G((function(){return M({type:"swipe",increment:0})}),E.animation.duration)}),[E.animation,M,G]);var ze=[H,we,(null==oe?void 0:oe.width)||0,s.swipe,function(){return P(Je.SWIPE)},function(e){return Ee(e)},function(e,n){return Le({offset:e,duration:n,count:1})},function(e){return Le({offset:e,count:0})}],Ze=[function(){Me&&P(Je.PULL_DOWN)},function(e){return Ce(e)},function(e){return Ie(e)},function(e){return Ie(e,!0)}];tn.apply(void 0,ze.concat([Me],Ze)),an.apply(void 0,[C].concat(ze));var De=Ue((function(){var e;d.focus&&(null===(e=te.current)||void 0===e||e.focus())}));r.useEffect(De,[De]);var _e=Ue((function(){var e;null===(e=p.view)||void 0===e||e.call(p,{index:E.currentIndex})}));r.useEffect(_e,[E.globalIndex,_e]),r.useEffect((function(){return ie(K(O,(function(e){return Le(B({direction:O},e))})),K(S,(function(e){return Le(B({direction:S},e))})),K(R,(function(e){return M(e)})))}),[K,Le,M]);var Ae=r.useMemo((function(){return{prev:ge,next:ye,close:xe,focus:pe,slideRect:oe?fe(oe,l.padding):{width:0,height:0},containerRect:oe||{width:0,height:0},subscribeSensors:H,containerRef:te,setCarouselRef:le,toolbarWidth:x,setToolbarWidth:w}}),[ge,ye,xe,pe,H,oe,te,le,x,w,l.padding]);return r.useImperativeHandle(d.ref,(function(){return{prev:ge,next:ye,close:xe,focus:pe,getLightboxProps:me,getLightboxState:ve}}),[ge,ye,xe,pe,me,ve]),r.createElement("div",B(B({ref:ae,className:Q(ee(cn()),ee(N)),style:B(B(B(B({},C===Je.SWIPE?h({},ne("swipe_offset"),"".concat(Math.round(I.current),"px")):null),C===Je.PULL_DOWN?(n={},h(n,ne("pull_down_offset"),"".concat(Math.round(T.current),"px")),h(n,ne("pull_down_opacity"),"".concat(F.current)),n):null),"none"!==d.touchAction?h({},ne("controller_touch_action"),d.touchAction):null),g.container)},d.aria?{role:"presentation","aria-live":"polite"}:null),{},{tabIndex:-1},Y),oe&&r.createElement(un.Provider,{value:Ae},c,null===(t=b.controls)||void 0===t?void 0:t.call(b)))}));function dn(e){return te(g,e)}function fn(e){return te("slide",e)}function hn(e){var n,t,o,i,a,c=e.slide,u=e.offset,l=r.useRef(null),s=ke().currentIndex,d=ln(),f=d.slideRect,h=d.close,p=we(),m=p.render,v=p.carousel,g=v.imageFit,b=v.imageProps,y=p.on.click,x=p.controller.closeOnBackdropClick,w=p.styles.slide;return r.createElement("div",{ref:l,className:Q(ee(fn()),0===u&&ee(fn("current")),ee(N)),onClick:function(e){var n=l.current,t=e.target instanceof HTMLElement?e.target:void 0;x&&t&&n&&(t===n||Array.from(n.children).find((function(e){return e===t}))&&t.classList.contains(ee(P)))&&h()},style:w},(!(a=null===(n=m.slide)||void 0===n?void 0:n.call(m,{slide:c,offset:u,rect:f}))&&le(c)&&(a=r.createElement(en,{slide:c,offset:u,render:m,rect:f,imageFit:g,imageProps:b,onClick:0===u?function(){return null==y?void 0:y({index:s})}:void 0})),a?r.createElement(r.Fragment,null,null===(t=m.slideHeader)||void 0===t?void 0:t.call(m,{slide:c}),(null!==(o=m.slideContainer)&&void 0!==o?o:function(e){return e.children})({slide:c,children:a}),null===(i=m.slideFooter)||void 0===i?void 0:i.call(m,{slide:c})):null))}function pn(){var e=we().styles.slide;return r.createElement("div",{className:ee("slide"),style:e})}var mn=V(g,(function(e){var n,t=e.carousel,o=ke(),i=o.slides,a=o.currentIndex,c=o.globalIndex,u=ln().setCarouselRef,l=de(t.spacing),s=de(t.padding),d=[],f=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(e.preload,Math.max(e.finite?n.length-1:Math.floor(n.length/2),t))}(t,i,1);if(pe(i)){for(var p=a-f;p<a;p+=1){var m=c+p-a;d.push(!t.finite||p>=0?r.createElement(hn,{key:m,slide:i[(p+f*i.length)%i.length],offset:p-a}):r.createElement(pn,{key:m}))}d.push(r.createElement(hn,{key:c,slide:i[a],offset:0}));for(var v=a+1;v<=a+f;v+=1){var g=c+v-a;d.push(!t.finite||v<=i.length-1?r.createElement(hn,{key:g,slide:i[v%i.length],offset:v-a}):r.createElement(pn,{key:g}))}}return r.createElement("div",{ref:u,className:Q(ee(dn()),d.length>0&&ee(dn("with_slides"))),style:(n={},h(n,"".concat(ne(dn("slides_count"))),d.length),h(n,"".concat(ne(dn("spacing_px"))),l.pixel||0),h(n,"".concat(ne(dn("spacing_percent"))),l.percent||0),h(n,"".concat(ne(dn("padding_px"))),s.pixel||0),h(n,"".concat(ne(dn("padding_percent"))),s.percent||0),n)},d)}));function vn(){var e=we().carousel,n=ke(),t=n.slides,r=n.currentIndex;return{prevDisabled:0===t.length||e.finite&&0===r,nextDisabled:0===t.length||e.finite&&r===t.length-1}}function gn(e){var n=e.label,t=e.icon,o=e.renderIcon,i=e.action,a=e.onClick,c=e.disabled,u=e.style;return r.createElement(Le,B({label:n,icon:t,renderIcon:o,className:ee("navigation_".concat(i)),disabled:c,onClick:a,style:u},function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=r.useRef();Te((function(){n&&t.current&&(t.current=!1,e())}),[n,e]);var o=r.useCallback((function(){t.current=!0}),[]),i=r.useCallback((function(){t.current=!1}),[]);return{onFocus:o,onBlur:i}}(ln().focus,c)))}var bn=V("navigation",(function(e){var n=e.render,t=n.buttonPrev,o=n.buttonNext,i=n.iconPrev,a=n.iconNext,c=e.styles,u=ln(),l=u.prev,s=u.next,d=u.subscribeSensors,f=vn(),h=f.prevDisabled,p=f.nextDisabled;return function(e){var n,t=Ve(),o=be().publish,i=we().animation,a=vn(),c=a.prevDisabled,u=a.nextDisabled,l=(null!==(n=i.navigation)&&void 0!==n?n:i.swipe)/2,s=Ge((function(){return o(O)}),l),d=Ge((function(){return o(S)}),l),f=Ue((function(e){switch(e.key){case"Escape":o(L);break;case"ArrowLeft":(t?u:c)||(t?d:s)();break;case"ArrowRight":(t?c:u)||(t?s:d)()}}));r.useEffect((function(){return e(j,f)}),[e,f])}(d),r.createElement(r.Fragment,null,t?t():r.createElement(gn,{label:"Previous",action:O,icon:_e,renderIcon:i,style:c.navigationPrev,disabled:h,onClick:l}),o?o():r.createElement(gn,{label:"Next",action:S,icon:Ae,renderIcon:a,style:c.navigationNext,disabled:p,onClick:s}))})),yn=ee("no_scroll"),xn=ee(I);function wn(e){return"style"in e}function En(e,n,t){var r=window.getComputedStyle(e),o=t?"padding-left":"padding-right",i=t?r.paddingLeft:r.paddingRight,a=e.style.getPropertyValue(o);return e.style.setProperty(o,"".concat((parseInt(i,10)||0)+n,"px")),function(){a?e.style.setProperty(o,a):e.style.removeProperty(o)}}var Mn=V("no-scroll",(function(e){var n=e.noScroll.disabled,t=e.children,o=Ve();return Te((function(){if(n)return function(){};var e=[],t=document,r=t.body,i=t.documentElement,a=Math.round(window.innerWidth-i.clientWidth);if(a>0){e.push(En(r,a,o));for(var c=r.getElementsByTagName("*"),u=0;u<c.length;u+=1){var l=c[u];wn(l)&&"fixed"===window.getComputedStyle(l).getPropertyValue("position")&&!l.classList.contains(xn)&&e.push(En(l,a,o))}}return r.classList.add(yn),function(){r.classList.remove(yn),e.forEach((function(e){return e()}))}}),[o,n]),r.createElement(r.Fragment,null,t)}));function kn(e){return te(y,e)}function Cn(e,n,t){var r=e.getAttribute(n);return e.setAttribute(n,t),function(){r?e.setAttribute(n,r):e.removeAttribute(n)}}var Pn=V(y,(function(e){var n=e.children,t=e.animation,o=e.styles,i=e.className,a=e.on,c=e.portal,u=e.close,l=f(r.useState(!1),2),s=l[0],d=l[1],p=f(r.useState(!1),2),m=p[0],v=p[1],g=r.useRef([]),b=Se().setTimeout,y=be().subscribe,x=Fe()?0:t.fade;r.useEffect((function(){return d(!0),function(){d(!1),v(!1)}}),[]);var w=Ue((function(){var e;v(!1),null===(e=a.exiting)||void 0===e||e.call(a),b((function(){var e;null===(e=a.exited)||void 0===e||e.call(a),u()}),x)}));r.useEffect((function(){return y(L,w)}),[y,w]);var E=Ue((function(e){var n,t,r;e.scrollTop,v(!0),null===(n=a.entering)||void 0===n||n.call(a);for(var o=null!==(r=null===(t=e.parentNode)||void 0===t?void 0:t.children)&&void 0!==r?r:[],i=0;i<o.length;i+=1){var c=o[i];-1===["TEMPLATE","SCRIPT","STYLE"].indexOf(c.tagName)&&c!==e&&(g.current.push(Cn(c,"inert","true")),g.current.push(Cn(c,"aria-hidden","true")))}b((function(){var e;null===(e=a.entered)||void 0===e||e.call(a)}),x)})),M=Ue((function(){g.current.forEach((function(e){return e()})),g.current=[]})),k=r.useCallback((function(e){e?E(e):M()}),[E,M]);return s?(0,H.createPortal)(r.createElement("div",{ref:k,className:Q(i,ee("root"),ee(kn()),ee(I),m&&ee(kn("open"))),role:"presentation","aria-live":"polite",style:B(B(B({},t.fade!==K.animation.fade?h({},ne("fade_animation_duration"),"".concat(x,"ms")):null),t.easing.fade!==K.animation.easing.fade?h({},ne("fade_animation_timing_function"),t.easing.fade):null),o.root)},n),c.root||document.body):null}));var Nn=V("root",(function(e){var n=e.children;return r.createElement(r.Fragment,null,n)}));var In=V(x,(function(e){var n,t,o=e.toolbar.buttons,i=e.render,a=i.buttonClose,c=i.iconClose,u=e.styles,l=ln(),s=l.close,d=l.setToolbarWidth,f=Ye(),h=f.setContainerRef,p=f.containerRect;return Te((function(){d(null==p?void 0:p.width)}),[d,null==p?void 0:p.width]),r.createElement("div",B({ref:h,style:u.toolbar,className:ee(te(x,t))},{onPointerDown:n=function(e){e.stopPropagation()},onKeyDown:n,onWheel:n}),null==o?void 0:o.map((function(e){return e===L?a?a():r.createElement(Le,{key:L,label:"Close",icon:De,renderIcon:c,onClick:s}):e})))}));function On(e,n){var t;return r.createElement(e.module.component,B({key:e.module.name},n),null===(t=e.children)||void 0===t?void 0:t.map((function(e){return On(e,n)})))}function Sn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.easing,r=m(e,["easing"]),o=n.easing,i=m(n,["easing"]);return B(B({easing:B(B({},t),o)},r),i)}function Rn(e){var n=e.carousel,t=e.animation,o=e.render,i=e.toolbar,a=e.controller,c=e.noScroll,u=e.on,l=e.plugins,s=e.slides,d=e.index,f=m(e,["carousel","animation","render","toolbar","controller","noScroll","on","plugins","slides","index"]),h=K.animation,p=K.carousel,g=K.render,y=K.toolbar,x=K.controller,w=K.noScroll,E=K.on,M=K.slides,k=K.index,C=K.plugins,P=m(K,["animation","carousel","render","toolbar","controller","noScroll","on","slides","index","plugins"]),N=function(e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],t=e,r=function(e){for(var n=(0,v.Z)(t);n.length>0;){var r=n.pop();if((null==r?void 0:r.module.name)===e)return!0;(null==r?void 0:r.children)&&n.push.apply(n,(0,v.Z)(r.children))}return!1},o=function(e,n){t=""!==e?q(t,e,(function(e){return[G(n,[e])]})):[G(n,t)]},i=function(e,n){t=q(t,e,(function(e){return[G(e.module,[G(n,e.children)])]}))},a=function(e,n,r){t=q(t,e,(function(e){var t;return[G(e.module,[].concat((0,v.Z)(r?[G(n)]:[]),(0,v.Z)(null!==(t=e.children)&&void 0!==t?t:[]),(0,v.Z)(r?[]:[G(n)])))]}))},c=function(e,n,r){t=q(t,e,(function(e){return[].concat((0,v.Z)(r?[G(n)]:[]),[e],(0,v.Z)(r?[]:[G(n)]))}))},u=function(e){i(b,e)},l=function(e,n){t=q(t,e,(function(e){return[G(n,e.children)]}))},s=function(e){t=q(t,e,(function(e){return e.children}))},d=function(e){n.push(e)};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(e){e({contains:r,addParent:o,append:i,addChild:a,addSibling:c,addModule:u,replace:l,remove:s,augment:d})})),{config:t,augmentation:function(e){return n.reduce((function(e,n){return n(e)}),e)}}}([G(Pn,[G(Mn,[G(sn,[G(mn),G(In),G(bn)])])])],l||C),I=N.config,O=(0,N.augmentation)(B(B({animation:Sn(h,t),carousel:B(B({},p),n),render:B(B({},g),o),toolbar:B(B({},y),i),controller:B(B({},x),a),noScroll:B(B({},w),c),on:B(B({},E),u)},P),f));return O.open?r.createElement(Ee,B({},O),r.createElement(Ie,{slides:s||M,index:d||k},r.createElement(Re,null,r.createElement(ye,null,On(G(Nn,I),O))))):null}function Ln(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ln(Object(t),!0).forEach((function(n){h(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ln(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Zn={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},Dn=function(e){return zn(zn({},Zn),e)};function _n(){var e=we().zoom;return Dn(e)}function An(e,n){return Math.pow(Math.pow(e.clientX-n.clientX,2)+Math.pow(e.clientY-n.clientY,2),.5)}function jn(e,n,t){var o=f(r.useState(1),2),i=o[0],a=o[1],c=f(r.useState(0),2),u=c[0],l=c[1],s=f(r.useState(0),2),d=s[0],h=s[1],p=function(e,n,t,o){var i=r.useRef(),a=r.useRef(),c=we().animation.zoom,u=Fe(),l=Ue((function(){var r,l,s;if(null===(r=i.current)||void 0===r||r.cancel(),i.current=void 0,a.current&&(null==o?void 0:o.current)){try{i.current=null===(s=(l=o.current).animate)||void 0===s?void 0:s.call(l,[{transform:a.current},{transform:"scale(".concat(e,") translateX(").concat(n,"px) translateY(").concat(t,"px)")}],{duration:u?0:null!=c?c:500,easing:i.current?"ease-out":"ease-in-out"})}catch(d){console.error(d)}a.current=void 0,i.current&&(i.current.onfinish=function(){i.current=void 0})}}));return Te(l,[e,n,t,l]),r.useCallback((function(){a.current=(null==o?void 0:o.current)?window.getComputedStyle(o.current).transform:void 0}),[o])}(i,u,d,t),m=ke(),v=m.slides,g=m.currentIndex,b=m.globalIndex,y=ln(),x=y.containerRect,w=y.slideRect,E=_n().zoomInMultiplier,M=function(e,n){if(n<e.length){var t=e[n];if(le(t))return t.src}}(v,g),k=!M||!(null==t?void 0:t.current);Te((function(){a(1),l(0),h(0)}),[b,M]);var C=r.useCallback((function(n,t,r){var o=r||i,a=u-(n||0),c=d-(t||0),s=(e.width*o-w.width)/2/o,f=(e.height*o-w.height)/2/o;l(Math.min(Math.abs(a),Math.max(s,0))*Math.sign(a)),h(Math.min(Math.abs(c),Math.max(f,0))*Math.sign(c))}),[i,u,d,w,e.width,e.height]),P=r.useCallback((function(e,t,r,o){var c=ue(Math.min(Math.max(e+.001<n?e:n,1),n),5);c!==i&&(t||p(),C(r?r*(1/i-1/c):0,o?o*(1/i-1/c):0,c),a(c))}),[i,n,C,p]),N=Ue((function(){i>1&&(i>n&&P(n,!0),C())}));Te(N,[x.width,x.height,N]);var I=r.useCallback((function(){return P(i*E)}),[i,E,P]),O=r.useCallback((function(){return P(i/E)}),[i,E,P]);return{zoom:i,offsetX:u,offsetY:d,disabled:k,changeOffsets:C,changeZoom:P,zoomIn:I,zoomOut:O}}var Wn=r.createContext(null),Tn=ae("useZoom","ZoomControllerContext",Wn);function Fn(e){var n=e.children,t=f(r.useState(),2),o=t[0],i=t[1],a=function(e,n){var t,r,o={width:0,height:0},i={width:0,height:0},a=ke(),c=a.slides,u=a.currentIndex,l=we().carousel.imageFit,s=_n().maxZoomPixelRatio;if(e&&u<c.length){var d=zn(zn({},c[u]),n);if(le(d)){var f=se(d,l),h=Math.max.apply(Math,(0,v.Z)(((null===(t=d.srcSet)||void 0===t?void 0:t.map((function(e){return e.width})))||[]).concat(d.width?[d.width]:[]))),p=Math.max.apply(Math,(0,v.Z)(((null===(r=d.srcSet)||void 0===r?void 0:r.map((function(e){return e.height})))||[]).concat(d.height?[d.height]:[])));h>0&&p>0&&e.width>0&&e.height>0&&(i={width:(i=f?{width:Math.round(Math.min(h,e.width/e.height*p)),height:Math.round(Math.min(p,e.height/e.width*h))}:{width:h,height:p}).width*s,height:i.height*s},o=f?{width:Math.min(e.width,i.width,h),height:Math.min(e.height,i.height,p)}:{width:Math.round(Math.min(e.width,e.height/p*h,h)),height:Math.round(Math.min(e.height,e.width/h*p,p))})}}return{imageRect:o,maxZoom:o.width?Math.max(ue(i.width/o.width,5),1):1}}(ln().slideRect,null==o?void 0:o.imageDimensions),c=a.imageRect,u=a.maxZoom,l=jn(c,u,null==o?void 0:o.zoomWrapperRef),s=l.zoom,d=l.offsetX,h=l.offsetY,p=l.disabled,m=l.changeZoom,g=l.changeOffsets,b=l.zoomIn,y=l.zoomOut;!function(e,n){var t=we().on,o=Ue((function(){var r;n||null===(r=t.zoom)||void 0===r||r.call(t,{zoom:e})}));r.useEffect(o,[e,o])}(s,p),function(e,n,t,o,i,a){var c=r.useRef([]),u=r.useRef(0),l=r.useRef(),s=ke().globalIndex,d=ln(),f=d.containerRef,h=d.subscribeSensors,p=_n(),m=p.keyboardMoveDistance,g=p.zoomInMultiplier,b=p.wheelZoomDistanceFactor,y=p.scrollToZoom,x=p.doubleTapDelay,w=p.doubleClickDelay,E=p.doubleClickMaxStops,M=p.pinchZoomDistanceFactor,k=r.useCallback((function(e){if(f.current){var n=e.pageX,t=e.pageY,r=window,o=r.scrollX,i=r.scrollY,a=f.current.getBoundingClientRect(),c=a.left,u=a.top;return[n-c-o-a.width/2,t-u-i-a.height/2]}return[]}),[f]),C=Ue((function(n){var t=function(){n.preventDefault(),n.stopPropagation()};if(e>1){var r=function(e,n){t(),i(e,n)};"ArrowDown"===n.key?r(0,m):"ArrowUp"===n.key?r(0,-m):"ArrowLeft"===n.key?r(-m,0):"ArrowRight"===n.key&&r(m,0)}var a=function(e){t(),o(e)},c=function(){return n.getModifierState("Meta")};"+"===n.key||"="===n.key&&c()?a(e*g):"-"===n.key||"_"===n.key&&c()?a(e/g):"0"===n.key&&c()&&a(1)})),P=Ue((function(n){if((n.ctrlKey||y)&&Math.abs(n.deltaY)>Math.abs(n.deltaX))return n.stopPropagation(),void o.apply(void 0,[e*(1-n.deltaY/b),!0].concat((0,v.Z)(k(n))));e>1&&(n.stopPropagation(),y||i(n.deltaX,n.deltaY))})),N=r.useCallback((function(e){var n=c.current;n.splice.apply(n,[0,n.length].concat((0,v.Z)(n.filter((function(n){return n.pointerId!==e.pointerId})))))}),[]),I=r.useCallback((function(e){N(e),e.persist(),c.current.push(e)}),[N]),O=Ue((function(t){var r,i=c.current;if(null===(r=null==a?void 0:a.current)||void 0===r?void 0:r.contains(t.target)){e>1&&t.stopPropagation();var s=t.timeStamp;0===i.length&&s-u.current<("touch"===t.pointerType?x:w)?(u.current=0,o.apply(void 0,[e!==n?e*Math.max(Math.pow(n,1/E),g):1,!1].concat((0,v.Z)(k(t))))):u.current=s,I(t),2===i.length&&(l.current=An(i[0],i[1]))}})),S=Ue((function(n){var t=c.current,r=t.find((function(e){return e.pointerId===n.pointerId}));if(2===t.length&&l.current){n.stopPropagation(),I(n);var a=An(t[0],t[1]),u=a-l.current;Math.abs(u)>0&&(o.apply(void 0,[e*(1+u/M),!0].concat((0,v.Z)(t.map((function(e){return k(e)})).reduce((function(e,n){return n.map((function(n,t){return e[t]+n/2}))}))))),l.current=a)}else e>1&&(n.stopPropagation(),r&&(1===t.length&&i((r.clientX-n.clientX)/e,(r.clientY-n.clientY)/e),I(n)))})),R=r.useCallback((function(e){var n=c.current;2===n.length&&n.find((function(n){return n.pointerId===e.pointerId}))&&(l.current=void 0),N(e)}),[N]),L=r.useCallback((function(){var e=c.current;e.splice(0,e.length),u.current=0,l.current=void 0}),[]);nn(h,O,S,R,t),r.useEffect(L,[s,L]),r.useEffect((function(){return t?function(){}:ie(L,h(j,C),h(W,P))}),[t,h,L,C,P])}(s,u,p,m,g,null==o?void 0:o.zoomWrapperRef);var x=r.useMemo((function(){return{zoom:s,maxZoom:u,offsetX:d,offsetY:h,disabled:p,zoomIn:b,zoomOut:y,changeZoom:m}}),[s,u,d,h,p,b,y,m]);r.useImperativeHandle(_n().ref,(function(){return x}),[x]);var w=r.useMemo((function(){return zn(zn({},x),{},{setZoomWrapper:i})}),[x,i]);return r.createElement(Wn.Provider,{value:w},n)}var Xn=Ze("ZoomIn",r.createElement(r.Fragment,null,r.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),r.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Yn=Ze("ZoomOut",r.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),Hn=r.forwardRef((function(e,n){var t=e.zoomIn,o=e.onLoseFocus,i=r.useRef(!1),a=r.useRef(!1),c=Tn(),u=c.zoom,l=c.maxZoom,s=c.zoomIn,d=c.zoomOut,f=c.disabled,h=we().render,p=f||(t?u>=l:u<=1);return r.useEffect((function(){p&&i.current&&a.current&&o(),p||(i.current=!0)}),[p,o]),r.createElement(Le,{ref:n,disabled:p,label:t?"Zoom in":"Zoom out",icon:t?Xn:Yn,renderIcon:t?h.iconZoomIn:h.iconZoomOut,onClick:t?s:d,onFocus:function(){a.current=!0},onBlur:function(){a.current=!1}})}));function Un(){var e=r.useRef(null),n=r.useRef(null),t=ln().focus,o=r.useCallback((function(e){var n,r;(null===(n=e.current)||void 0===n?void 0:n.disabled)?t():null===(r=e.current)||void 0===r||r.focus()}),[t]),i=r.useCallback((function(){return o(e)}),[o]),a=r.useCallback((function(){return o(n)}),[o]);return r.createElement(r.Fragment,null,r.createElement(Hn,{zoomIn:!0,ref:e,onLoseFocus:a}),r.createElement(Hn,{ref:n,onLoseFocus:i}))}function Bn(){var e=we().render,n=Tn();return e.buttonZoom?r.createElement(r.Fragment,null,e.buttonZoom(n)):r.createElement(Un,null)}function Kn(e,n){var t=e.current,r=e.preload,o=n.type,i=n.source;switch(o){case"fetch":return t?{current:t,preload:i}:{current:i};case"done":return i===r?{current:i}:{current:t,preload:r};default:throw new Error(Y)}}function Vn(e){var n,t,o=f(r.useReducer(Kn,{}),2),i=o[0],a=i.current,c=i.preload,u=o[1],l=e.slide,s=e.rect,d=e.imageFit,h=e.render,p=l.srcSet.sort((function(e,n){return e.width-n.width})),m=null!==(n=l.width)&&void 0!==n?n:p[p.length-1].width,g=null!==(t=l.height)&&void 0!==t?t:p[p.length-1].height,b=se(l,d),y=Math.max.apply(Math,(0,v.Z)(p.map((function(e){return e.width})))),x=Math.min((b?Math.max:Math.min)(s.width,m*(s.height/g)),y),w=(ce()?null===window||void 0===window?void 0:window.devicePixelRatio:void 0)||1,E=Ue((function(){var e,n=null!==(e=p.find((function(e){return e.width>=x*w})))&&void 0!==e?e:p[p.length-1];(!a||p.findIndex((function(e){return e.src===a}))<p.findIndex((function(e){return e===n})))&&u({type:"fetch",source:n.src})}));Te(E,[s.width,s.height,w,E]);var M=Ue((function(e){return u({type:"done",source:e})})),k={WebkitTransform:"translateZ(0)"};return b||Object.assign(k,s.width/s.height<m/g?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),r.createElement(r.Fragment,null,c&&c!==a&&r.createElement(en,zn(zn({key:"preload"},e),{},{slide:zn(zn({},l),{},{src:c,srcSet:void 0}),style:zn({position:"absolute",visibility:"hidden"},k),onLoad:function(){return M(c)},render:zn(zn({},h),{},{iconLoading:function(){return null},iconError:function(){return null}})})),a&&r.createElement(en,zn(zn({key:"current"},e),{},{slide:zn(zn({},l),{},{src:a,srcSet:void 0}),style:k})))}function Gn(e){var n,t=e.render,o=e.slide,i=e.offset,a=e.rect,c=f(r.useState(),2),u=c[0],l=c[1],s=r.useRef(null),d=Tn(),h=d.zoom,p=d.maxZoom,m=d.offsetX,v=d.offsetY,g=d.setZoomWrapper,b=we(),y=b.carousel,x=b.on,w=ke().currentIndex;Te((function(){return 0===i?(g({zoomWrapperRef:s,imageDimensions:u}),function(){return g(void 0)}):function(){}}),[i,u,g]);var E=null===(n=t.slide)||void 0===n?void 0:n.call(t,{slide:o,offset:i,rect:a,zoom:h,maxZoom:p});if(!E&&le(o)){var M={slide:o,offset:i,rect:a,render:t,imageFit:y.imageFit,imageProps:y.imageProps,onClick:0===i?function(){var e;return null===(e=x.click)||void 0===e?void 0:e.call(x,{index:w})}:void 0};E=function(e){var n;return((null===(n=e.srcSet)||void 0===n?void 0:n.length)||0)>0}(o)?r.createElement(Vn,zn(zn({key:o.src},M),{},{slide:o,rect:0===i?{width:a.width*h,height:a.height*h}:a})):r.createElement(en,zn({key:o.src,onLoad:function(e){return l({width:e.naturalWidth,height:e.naturalHeight})}},M))}return E?r.createElement("div",{ref:s,className:Q(ee(P),ee(N)),style:0===i?{transform:"scale(".concat(h,") translateX(").concat(m,"px) translateY(").concat(v,"px)")}:void 0},E):null}var Jn=function(e){var n=e.augment,t=e.addModule;n((function(e){var n=e.toolbar,t=e.render,o=e.zoom,i=m(e,["toolbar","render","zoom"]);return zn({zoom:Dn(o),toolbar:ve(n,w,r.createElement(Bn,null)),render:zn(zn({},t),{},{slide:function(e){var n;return le(e.slide)?r.createElement(Gn,zn({render:t},e)):null===(n=t.slide)||void 0===n?void 0:n.call(t,e)}})},i)})),t(V(w,Fn))},qn=i.ZP.div.withConfig({displayName:"gallery__StyledGallery",componentId:"sc-1izk9a2-0"})([".gallery-container{@media (max-width:768px){grid-column:1 / -1;}}.images{display:flex;justify-content:flex-start;gap:20px;overflow:hidden;max-height:400px;@media (max-width:768px){grid-column:1 / -1;}&:hover,&:focus{background-color:transparent;outline:0;filter:none;}}.images-spaced{justify-content:space-around;}.images-not-spaced{justify-content:flex-start;gap:80px;}.image-wrapper{mix-blend-mode:multiply;filter:grayscale(100%) contrast(1) brightness(90%);cursor:pointer;&:hover,&:focus{background-color:transparent;outline:0;filter:none;}}.img{object-fit:cover;border-radius:var(--border-radius);@media (max-width:768px){object-fit:cover;width:auto;height:100%;filter:grayscale(100%) contrast(1) brightness(50%);}}.embla__slide{flex:0 0 100%;min-width:0;}"]),Qn=function(e){var n=e.covers,t=r.useRef(null),o=(0,r.useState)(!1),i=o[0],a=o[1],c=(0,r.useState)(0),u=c[0],l=c[1];return r.createElement(qn,null,r.createElement("div",{className:"gallery-container"},r.createElement("div",{className:"images "+(n.length<=3?"images-not-spaced":"images-spaced")},n.map((function(e,n){return r.createElement("div",{key:n,className:"image-wrapper",onClick:function(){l(n),a(!0)}},r.createElement(s.G,{key:n,className:"img",image:(0,s.d)(e.childImageSharp.small),alt:"Slide "+(n+1)}))}))),r.createElement(Rn,{open:i,close:function(){return a(!1)},slides:n,index:u,render:{slide:function(e,n){var t=e.slide;return r.createElement("div",{key:n,className:"image-wrapper",onClick:function(){return a(!0)}},r.createElement(s.G,{key:n,className:"img",image:(0,s.d)(t.childImageSharp.huge),alt:"Slide "+(n+1),style:{maxHeight:"90vh"},objectFit:"contain"}))}},plugins:[Jn],animation:{zoom:500},zoom:{ref:t,maxZoomPixelRatio:10,zoomInMultiplier:300,doubleTapDelay:300,doubleClickDelay:300,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,disabled:!1}})))},$n=t(4183),et=i.ZP.div.withConfig({displayName:"gallery__StyledTableContainer",componentId:"gmde97-0"})(["margin:100px -20px;@media (max-width:768px){margin:50px -10px;}.section{width:100%;border-collapse:collapse;.hide-on-mobile{@media (max-width:768px){display:none;}}.content{display:flex;flex-direction:column;gap:50px;border:1px solid var(--light-navy);border-radius:5px;@media (max-width:768px){gap:40px;}}.content .row-wrapper{&:hover,&:focus{background-color:var(--light-navy);}}th,.td{padding:10px;text-align:left;&:first-child{padding-left:20px;@media (max-width:768px){padding-left:10px;}}&:last-child{padding-right:20px;@media (max-width:768px){padding-right:10px;}}svg{width:20px;height:20px;}}.row-wrapper{padding-top:15px;padding-left:10px;padding-right:10px;min-height:350px;}.tr{padding-bottom:10px;cursor:default;.td:first-child{border-top-left-radius:var(--border-radius);border-bottom-left-radius:var(--border-radius);}.td:last-child{border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);}}.td{&.year{padding-right:20px;@media (max-width:768px){padding-right:10px;font-size:var(--fz-sm);}}&.img{padding-top:25px;padding-bottom:25px;padding-right:50px;padding-left:50px;color:var(--lightest-slate);font-size:var(--fz-heading);font-weight:600;line-height:1.25;width:100%;}&.company{font-size:var(--fz-lg);white-space:nowrap;}&.tech{font-size:var(--fz-xxs);font-family:var(--font-mono);line-height:1.5;.separator{margin:0 5px;}span{display:inline-block;}}&.links{min-width:100px;div{display:flex;align-items:center;a{",";flex-shrink:0;}a + a{margin-left:10px;}}}}}.gallery{padding-left:20px;padding-right:20px;}.header{display:flex;flex-direction:row;padding-top:10px;}.title{padding-right:50px;color:var(--lightest-slate);font-size:var(--fz-heading);font-weight:600;line-height:1.25;}.title:hover{}.project-links{display:flex;align-items:center;position:relative;margin-top:-5px;color:var(--lightest-slate);a{",";padding:10px;&.external{svg{width:22px;height:22px;margin-top:-4px;}}svg{width:20px;height:20px;}}}"],(function(e){return e.theme.mixins.flexCenter}),(function(e){return e.theme.mixins.flexCenter})),nt=function(e){var n=e.location,t=e.data.allMarkdownRemark.edges,i=(0,r.useRef)(null),s=(0,r.useRef)(null),d=(0,r.useRef)([]),f=(0,l.Tb)();return(0,r.useEffect)((function(){f||(c.Z.reveal(i.current,(0,a.srConfig)()),c.Z.reveal(s.current,(0,a.srConfig)(200,0)),d.current.forEach((function(e,n){return c.Z.reveal(e,(0,a.srConfig)(10*n))})))}),[]),r.createElement(u.Ar,{location:n},r.createElement(o.q,{title:"Gallery"}),r.createElement("main",null,r.createElement("header",{ref:i},r.createElement("h1",{className:"big-heading"},"Gallery"),r.createElement("p",{className:"subtitle"},"To get the gist")),r.createElement(et,{ref:s},r.createElement("div",{className:"section"},r.createElement("div",{className:"content"},t.length>0&&t.map((function(e,n){var t=e.node,o=t.frontmatter,i=o.id,a=o.title,c=o.external,u=o.tech,l=o.github,s=o.covers;return r.createElement("div",{className:"row-wrapper",id:i,key:n+a},r.createElement("div",{className:"tr",ref:function(e){return d.current[n]=e}},r.createElement("div",{className:"td header"},r.createElement("div",{className:"title"},a),r.createElement("div",{className:"project-links hide-on-mobile"},l&&r.createElement("a",{href:l,"aria-label":"GitHub Link"},r.createElement($n.JO,{name:"GitHub"})),c&&r.createElement("a",{href:c,"aria-label":"External Link",className:"external"},r.createElement($n.JO,{name:"External"})))),r.createElement("div",{className:"td gallery"},r.createElement(Qn,{node:t,covers:s})),r.createElement("div",{className:"td tech hide-on-mobile"},(null==u?void 0:u.length)>0&&u.map((function(e,n){return r.createElement("span",{key:n+e},e,"",n!==u.length-1&&r.createElement("span",{className:"separator"},""))})))))})))))))}}}]);
//# sourceMappingURL=component---src-pages-gallery-js-3c45d330f90719b85af1.js.map