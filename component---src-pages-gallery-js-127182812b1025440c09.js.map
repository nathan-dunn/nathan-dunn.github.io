{"version":3,"file":"component---src-pages-gallery-js-127182812b1025440c09.js","mappings":"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","sources":["webpack://personal-website-v3/./node_modules/yet-another-react-lightbox/dist/types.js","webpack://personal-website-v3/./node_modules/yet-another-react-lightbox/dist/index.js","webpack://personal-website-v3/./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js","webpack://personal-website-v3/./src/components/gallery.js","webpack://personal-website-v3/./src/pages/gallery.js"],"sourcesContent":["const MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = status => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FLEX_CENTER, CLASS_FULLSIZE, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SLIDE_STATUS_PLAYING, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus };","'use client';\n\nimport * as React from 'react';\nimport { ACTION_CLOSE, IMAGE_FIT_CONTAIN, MODULE_CONTROLLER, IMAGE_FIT_COVER, UNKNOWN_ACTION_TYPE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_CANCEL, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_WHEEL, SLIDE_STATUS_LOADING, activeSlideStatus, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_PLACEHOLDER, ACTION_PREV, ACTION_NEXT, ACTION_SWIPE, CLASS_FLEX_CENTER, MODULE_CAROUSEL, CLASS_FULLSIZE, VK_ARROW_RIGHT, VK_ARROW_LEFT, VK_ESCAPE, MODULE_NAVIGATION, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR } from './types.js';\nimport { createPortal } from 'react-dom';\nexport { ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_PLAYING } from './types.js';\nconst LightboxDefaultProps = {\n  open: false,\n  close: () => {},\n  index: 0,\n  slides: [],\n  render: {},\n  plugins: [],\n  toolbar: {\n    buttons: [ACTION_CLOSE]\n  },\n  labels: {},\n  animation: {\n    fade: 250,\n    swipe: 500,\n    easing: {\n      fade: \"ease\",\n      swipe: \"ease-out\",\n      navigation: \"ease-in-out\"\n    }\n  },\n  carousel: {\n    finite: false,\n    preload: 2,\n    padding: \"16px\",\n    spacing: \"30%\",\n    imageFit: IMAGE_FIT_CONTAIN,\n    imageProps: {}\n  },\n  controller: {\n    ref: null,\n    focus: true,\n    aria: false,\n    touchAction: \"none\",\n    closeOnPullDown: false,\n    closeOnBackdropClick: false\n  },\n  portal: {},\n  noScroll: {\n    disabled: false\n  },\n  on: {},\n  styles: {},\n  className: \"\"\n};\nfunction createModule(name, component) {\n  return {\n    name,\n    component\n  };\n}\nfunction createNode(module, children) {\n  return {\n    module,\n    children\n  };\n}\nfunction traverseNode(node, target, apply) {\n  if (node.module.name === target) {\n    return apply(node);\n  }\n  if (node.children) {\n    return [createNode(node.module, node.children.flatMap(n => {\n      var _a;\n      return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : [];\n    }))];\n  }\n  return [node];\n}\nfunction traverse(nodes, target, apply) {\n  return nodes.flatMap(node => {\n    var _a;\n    return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : [];\n  });\n}\nfunction withPlugins(root) {\n  let plugins = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  let augmentations = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  let config = root;\n  const contains = target => {\n    const nodes = [...config];\n    while (nodes.length > 0) {\n      const node = nodes.pop();\n      if ((node === null || node === void 0 ? void 0 : node.module.name) === target) return true;\n      if (node === null || node === void 0 ? void 0 : node.children) nodes.push(...node.children);\n    }\n    return false;\n  };\n  const addParent = (target, module) => {\n    if (target === \"\") {\n      config = [createNode(module, config)];\n      return;\n    }\n    config = traverse(config, target, node => [createNode(module, [node])]);\n  };\n  const append = (target, module) => {\n    config = traverse(config, target, node => [createNode(node.module, [createNode(module, node.children)])]);\n  };\n  const addChild = (target, module, precede) => {\n    config = traverse(config, target, node => {\n      var _a;\n      return [createNode(node.module, [...(precede ? [createNode(module)] : []), ...((_a = node.children) !== null && _a !== void 0 ? _a : []), ...(!precede ? [createNode(module)] : [])])];\n    });\n  };\n  const addSibling = (target, module, precede) => {\n    config = traverse(config, target, node => [...(precede ? [createNode(module)] : []), node, ...(!precede ? [createNode(module)] : [])]);\n  };\n  const addModule = module => {\n    append(MODULE_CONTROLLER, module);\n  };\n  const replace = (target, module) => {\n    config = traverse(config, target, node => [createNode(module, node.children)]);\n  };\n  const remove = target => {\n    config = traverse(config, target, node => node.children);\n  };\n  const augment = augmentation => {\n    augmentations.push(augmentation);\n  };\n  plugins.forEach(plugin => {\n    plugin({\n      contains,\n      addParent,\n      append,\n      addChild,\n      addSibling,\n      addModule,\n      replace,\n      remove,\n      augment\n    });\n  });\n  return {\n    config,\n    augmentation: props => augmentations.reduce((acc, augmentation) => augmentation(acc), props)\n  };\n}\nconst clsx = function () {\n  for (var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++) {\n    classes[_key] = arguments[_key];\n  }\n  return [...classes].filter(cls => Boolean(cls)).join(\" \");\n};\nconst cssPrefix$3 = \"yarl__\";\nconst cssClass = name => `${cssPrefix$3}${name}`;\nconst cssVar = name => `--${cssPrefix$3}${name}`;\nconst composePrefix = (base, prefix) => `${base}${prefix ? `_${prefix}` : \"\"}`;\nconst makeComposePrefix = base => prefix => composePrefix(base, prefix);\nconst label = (labels, lbl) => labels && labels[lbl] ? labels[lbl] : lbl;\nconst cleanup = function () {\n  for (var _len2 = arguments.length, cleaners = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    cleaners[_key2] = arguments[_key2];\n  }\n  return () => {\n    cleaners.forEach(cleaner => {\n      cleaner();\n    });\n  };\n};\nconst makeUseContext = (name, contextName, context) => () => {\n  const ctx = React.useContext(context);\n  if (!ctx) {\n    throw new Error(`${name} must be used within a ${contextName}.Provider`);\n  }\n  return ctx;\n};\nconst hasWindow = () => typeof window !== \"undefined\";\nfunction round(value) {\n  let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  const factor = 10 ** decimals;\n  return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nconst isImageSlide = slide => slide.type === undefined || slide.type === \"image\";\nconst isImageFitCover = (image, imageFit) => image.imageFit === IMAGE_FIT_COVER || image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER;\nfunction parseLengthPercentage(input) {\n  if (typeof input === \"number\") {\n    return {\n      pixel: input\n    };\n  }\n  if (typeof input === \"string\") {\n    const value = parseInt(input, 10);\n    return input.endsWith(\"%\") ? {\n      percent: value\n    } : {\n      pixel: value\n    };\n  }\n  return {\n    pixel: 0\n  };\n}\nfunction computeSlideRect(containerRect, padding) {\n  const paddingValue = parseLengthPercentage(padding);\n  const paddingPixels = paddingValue.percent !== undefined ? containerRect.width / 100 * paddingValue.percent : paddingValue.pixel;\n  return {\n    width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n    height: Math.max(containerRect.height - 2 * paddingPixels, 0)\n  };\n}\nconst devicePixelRatio = () => (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\nconst getSlideIndex = (index, slidesCount) => slidesCount > 0 ? (index % slidesCount + slidesCount) % slidesCount : 0;\nconst hasSlides = slides => slides.length > 0;\nconst getSlide = (slides, index) => slides[getSlideIndex(index, slides.length)];\nconst getSlideIfPresent = (slides, index) => hasSlides(slides) ? getSlide(slides, index) : undefined;\nfunction addToolbarButton(toolbar, key, button) {\n  if (!button) return toolbar;\n  const {\n    buttons,\n    ...restToolbar\n  } = toolbar;\n  const index = buttons.findIndex(item => item === key);\n  const buttonWithKey = React.isValidElement(button) ? React.cloneElement(button, {\n    key\n  }, null) : button;\n  if (index >= 0) {\n    const result = [...buttons];\n    result.splice(index, 1, buttonWithKey);\n    return {\n      buttons: result,\n      ...restToolbar\n    };\n  }\n  return {\n    buttons: [buttonWithKey, ...buttons],\n    ...restToolbar\n  };\n}\nfunction stopNavigationEventsPropagation() {\n  const stopPropagation = event => {\n    event.stopPropagation();\n  };\n  return {\n    onPointerDown: stopPropagation,\n    onKeyDown: stopPropagation,\n    onWheel: stopPropagation\n  };\n}\nfunction calculatePreload(carousel, slides) {\n  let minimum = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\nconst EventsContext = React.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  const [subscriptions] = React.useState({});\n  React.useEffect(() => () => {\n    Object.keys(subscriptions).forEach(topic => delete subscriptions[topic]);\n  }, [subscriptions]);\n  const context = React.useMemo(() => {\n    const unsubscribe = (topic, callback) => {\n      var _a;\n      (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter(cb => cb !== callback));\n    };\n    const subscribe = (topic, callback) => {\n      if (!subscriptions[topic]) {\n        subscriptions[topic] = [];\n      }\n      subscriptions[topic].push(callback);\n      return () => unsubscribe(topic, callback);\n    };\n    const publish = function () {\n      for (var _len3 = arguments.length, _ref2 = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        _ref2[_key3] = arguments[_key3];\n      }\n      let [topic, event] = _ref2;\n      var _a;\n      (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach(callback => callback(event));\n    };\n    return {\n      publish,\n      subscribe,\n      unsubscribe\n    };\n  }, [subscriptions]);\n  return React.createElement(EventsContext.Provider, {\n    value: context\n  }, children);\n}\nconst LightboxPropsContext = React.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider(_ref3) {\n  let {\n    children,\n    ...props\n  } = _ref3;\n  return React.createElement(LightboxPropsContext.Provider, {\n    value: props\n  }, children);\n}\nconst LightboxStateContext = React.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = React.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"swipe\":\n      {\n        const {\n          slides\n        } = state;\n        const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n        const globalIndex = state.globalIndex + increment;\n        const currentIndex = getSlideIndex(globalIndex, slides.length);\n        const currentSlide = getSlideIfPresent(slides, currentIndex);\n        const animation = increment || action.duration ? {\n          increment,\n          duration: action.duration,\n          easing: action.easing\n        } : undefined;\n        return {\n          slides,\n          currentIndex,\n          globalIndex,\n          currentSlide,\n          animation\n        };\n      }\n    case \"update\":\n      return {\n        slides: action.slides,\n        currentIndex: action.index,\n        globalIndex: action.index,\n        currentSlide: getSlideIfPresent(action.slides, action.index)\n      };\n    default:\n      throw new Error(UNKNOWN_ACTION_TYPE);\n  }\n}\nfunction LightboxStateProvider(_ref4) {\n  let {\n    slides,\n    index,\n    children\n  } = _ref4;\n  const [state, dispatch] = React.useReducer(reducer, {\n    slides,\n    currentIndex: index,\n    globalIndex: index,\n    currentSlide: getSlideIfPresent(slides, index)\n  });\n  React.useEffect(() => {\n    dispatch({\n      type: \"update\",\n      slides,\n      index\n    });\n  }, [slides, index]);\n  const context = React.useMemo(() => ({\n    ...state,\n    state,\n    dispatch\n  }), [state, dispatch]);\n  return React.createElement(LightboxDispatchContext.Provider, {\n    value: dispatch\n  }, React.createElement(LightboxStateContext.Provider, {\n    value: context\n  }, children));\n}\nconst TimeoutsContext = React.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider(_ref5) {\n  let {\n    children\n  } = _ref5;\n  const [timeouts] = React.useState([]);\n  React.useEffect(() => () => {\n    timeouts.forEach(tid => window.clearTimeout(tid));\n    timeouts.splice(0, timeouts.length);\n  }, [timeouts]);\n  const context = React.useMemo(() => {\n    const removeTimeout = id => {\n      timeouts.splice(0, timeouts.length, ...timeouts.filter(tid => tid !== id));\n    };\n    const setTimeout = (fn, delay) => {\n      const id = window.setTimeout(() => {\n        removeTimeout(id);\n        fn();\n      }, delay);\n      timeouts.push(id);\n      return id;\n    };\n    const clearTimeout = id => {\n      if (id !== undefined) {\n        removeTimeout(id);\n        window.clearTimeout(id);\n      }\n    };\n    return {\n      setTimeout,\n      clearTimeout\n    };\n  }, [timeouts]);\n  return React.createElement(TimeoutsContext.Provider, {\n    value: context\n  }, children);\n}\nconst IconButton = React.forwardRef(function IconButton(_ref6, ref) {\n  let {\n    label: label$1,\n    className,\n    icon: Icon,\n    renderIcon,\n    onClick,\n    style,\n    ...rest\n  } = _ref6;\n  const {\n    styles,\n    labels\n  } = useLightboxProps();\n  return React.createElement(\"button\", {\n    ref: ref,\n    type: \"button\",\n    \"aria-label\": label(labels, label$1),\n    className: clsx(cssClass(ELEMENT_BUTTON), className),\n    onClick: onClick,\n    style: {\n      ...style,\n      ...styles.button\n    },\n    ...rest\n  }, renderIcon ? renderIcon() : React.createElement(Icon, {\n    className: cssClass(ELEMENT_ICON),\n    style: styles.icon\n  }));\n});\nfunction svgIcon(name, children) {\n  const icon = props => React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    height: \"24\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    ...props\n  }, children);\n  icon.displayName = name;\n  return icon;\n}\nfunction createIcon(name, glyph) {\n  return svgIcon(name, React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }), glyph));\n}\nfunction createIconDisabled(name, glyph) {\n  return svgIcon(name, React.createElement(React.Fragment, null, React.createElement(\"defs\", null, React.createElement(\"mask\", {\n    id: \"strike\"\n  }, React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"white\"\n  }), React.createElement(\"path\", {\n    d: \"M0 0L24 24\",\n    stroke: \"black\",\n    strokeWidth: 4\n  }))), React.createElement(\"path\", {\n    d: \"M0.70707 2.121320L21.878680 23.292883\",\n    stroke: \"currentColor\",\n    strokeWidth: 2\n  }), React.createElement(\"g\", {\n    fill: \"currentColor\",\n    mask: \"url(#strike)\"\n  }, React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }), glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}));\nconst PreviousIcon = createIcon(\"Previous\", React.createElement(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}));\nconst NextIcon = createIcon(\"Next\", React.createElement(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}));\nconst LoadingIcon = createIcon(\"Loading\", React.createElement(React.Fragment, null, Array.from({\n  length: 8\n}).map((_, index, array) => React.createElement(\"line\", {\n  key: index,\n  x1: \"12\",\n  y1: \"6.5\",\n  x2: \"12\",\n  y2: \"1.8\",\n  strokeLinecap: \"round\",\n  strokeWidth: \"2.6\",\n  stroke: \"currentColor\",\n  strokeOpacity: 1 / array.length * (index + 1),\n  transform: `rotate(${360 / array.length * index}, 12, 12)`\n}))));\nconst ErrorIcon = createIcon(\"Error\", React.createElement(\"path\", {\n  d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\"\n}));\nconst useLayoutEffect = hasWindow() ? React.useLayoutEffect : React.useEffect;\nfunction useMotionPreference() {\n  const [reduceMotion, setReduceMotion] = React.useState(false);\n  React.useEffect(() => {\n    var _a, _b;\n    const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n    setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n    const listener = event => setReduceMotion(event.matches);\n    (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n    return () => {\n      var _a;\n      return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener);\n    };\n  }, []);\n  return reduceMotion;\n}\nfunction currentTransformation(node) {\n  let x = 0;\n  let y = 0;\n  let z = 0;\n  const matrix = window.getComputedStyle(node).transform;\n  const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n  if (matcher) {\n    const values = matcher[1].split(\",\").map(str => Number.parseInt(str, 10));\n    if (values.length === 6) {\n      x = values[4];\n      y = values[5];\n    } else if (values.length === 16) {\n      x = values[12];\n      y = values[13];\n      z = values[14];\n    }\n  }\n  return {\n    x,\n    y,\n    z\n  };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n  const snapshot = React.useRef();\n  const animation = React.useRef();\n  const reduceMotion = useMotionPreference();\n  useLayoutEffect(() => {\n    var _a, _b, _c;\n    if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n      const {\n        keyframes,\n        duration,\n        easing,\n        onfinish\n      } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n      if (keyframes && duration) {\n        (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        animation.current = undefined;\n        try {\n          animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, {\n            duration,\n            easing\n          });\n        } catch (err) {\n          console.error(err);\n        }\n        if (animation.current) {\n          animation.current.onfinish = () => {\n            animation.current = undefined;\n            onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n          };\n        }\n      }\n    }\n    snapshot.current = undefined;\n  });\n  return {\n    prepareAnimation: currentSnapshot => {\n      snapshot.current = currentSnapshot;\n    },\n    isAnimationPlaying: () => {\n      var _a;\n      return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\";\n    }\n  };\n}\nfunction useContainerRect() {\n  const containerRef = React.useRef(null);\n  const observerRef = React.useRef();\n  const [containerRect, setContainerRect] = React.useState();\n  const setContainerRef = React.useCallback(node => {\n    containerRef.current = node;\n    if (observerRef.current) {\n      observerRef.current.disconnect();\n      observerRef.current = undefined;\n    }\n    const updateContainerRect = () => {\n      if (node) {\n        const styles = window.getComputedStyle(node);\n        const parse = value => parseFloat(value) || 0;\n        setContainerRect({\n          width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n          height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom))\n        });\n      } else {\n        setContainerRect(undefined);\n      }\n    };\n    updateContainerRect();\n    if (node && typeof ResizeObserver !== \"undefined\") {\n      observerRef.current = new ResizeObserver(updateContainerRect);\n      observerRef.current.observe(node);\n    }\n  }, []);\n  return {\n    setContainerRef,\n    containerRef,\n    containerRect\n  };\n}\nfunction useDelay() {\n  const timeoutId = React.useRef();\n  const {\n    setTimeout,\n    clearTimeout\n  } = useTimeouts();\n  return React.useCallback((callback, delay) => {\n    clearTimeout(timeoutId.current);\n    timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n  }, [setTimeout, clearTimeout]);\n}\nfunction useEventCallback(fn) {\n  const ref = React.useRef(fn);\n  useLayoutEffect(() => {\n    ref.current = fn;\n  });\n  return React.useCallback(function () {\n    var _a;\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args);\n  }, []);\n}\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\nfunction useForkRef(refA, refB) {\n  return React.useMemo(() => refA == null && refB == null ? null : refValue => {\n    setRef(refA, refValue);\n    setRef(refB, refValue);\n  }, [refA, refB]);\n}\nfunction useLoseFocus(focus) {\n  let disabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const focused = React.useRef();\n  useLayoutEffect(() => {\n    if (disabled && focused.current) {\n      focused.current = false;\n      focus();\n    }\n  }, [disabled, focus]);\n  const onFocus = React.useCallback(() => {\n    focused.current = true;\n  }, []);\n  const onBlur = React.useCallback(() => {\n    focused.current = false;\n  }, []);\n  return {\n    onFocus,\n    onBlur\n  };\n}\nfunction useRTL() {\n  const [isRTL, setIsRTL] = React.useState(false);\n  useLayoutEffect(() => {\n    setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n  }, []);\n  return isRTL;\n}\nfunction useSensors() {\n  const [subscribers] = React.useState({});\n  const notifySubscribers = React.useCallback((type, event) => {\n    var _a;\n    (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach(listener => {\n      if (!event.isPropagationStopped()) listener(event);\n    });\n  }, [subscribers]);\n  const registerSensors = React.useMemo(() => ({\n    onPointerDown: event => notifySubscribers(EVENT_ON_POINTER_DOWN, event),\n    onPointerMove: event => notifySubscribers(EVENT_ON_POINTER_MOVE, event),\n    onPointerUp: event => notifySubscribers(EVENT_ON_POINTER_UP, event),\n    onPointerLeave: event => notifySubscribers(EVENT_ON_POINTER_LEAVE, event),\n    onPointerCancel: event => notifySubscribers(EVENT_ON_POINTER_CANCEL, event),\n    onKeyDown: event => notifySubscribers(EVENT_ON_KEY_DOWN, event),\n    onKeyUp: event => notifySubscribers(EVENT_ON_KEY_UP, event),\n    onWheel: event => notifySubscribers(EVENT_ON_WHEEL, event)\n  }), [notifySubscribers]);\n  const subscribeSensors = React.useCallback((type, callback) => {\n    if (!subscribers[type]) {\n      subscribers[type] = [];\n    }\n    subscribers[type].unshift(callback);\n    return () => {\n      const listeners = subscribers[type];\n      if (listeners) {\n        listeners.splice(0, listeners.length, ...listeners.filter(el => el !== callback));\n      }\n    };\n  }, [subscribers]);\n  return {\n    registerSensors,\n    subscribeSensors\n  };\n}\nfunction useThrottle(callback, delay) {\n  const lastCallbackTime = React.useRef(0);\n  const delayCallback = useDelay();\n  const executeCallback = useEventCallback(function () {\n    lastCallbackTime.current = Date.now();\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    callback(args);\n  });\n  return React.useCallback(function () {\n    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n    delayCallback(() => {\n      executeCallback(args);\n    }, delay - (Date.now() - lastCallbackTime.current));\n  }, [delay, executeCallback, delayCallback]);\n}\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide(_ref7) {\n  let {\n    slide: image,\n    offset,\n    render,\n    rect,\n    imageFit,\n    imageProps,\n    onClick,\n    onLoad,\n    style\n  } = _ref7;\n  var _a, _b, _c, _d, _e, _f, _g;\n  const [status, setStatus] = React.useState(SLIDE_STATUS_LOADING);\n  const {\n    publish\n  } = useEvents();\n  const {\n    setTimeout\n  } = useTimeouts();\n  const imageRef = React.useRef(null);\n  React.useEffect(() => {\n    if (offset === 0) {\n      publish(activeSlideStatus(status));\n    }\n  }, [offset, status, publish]);\n  const handleLoading = useEventCallback(img => {\n    (\"decode\" in img ? img.decode() : Promise.resolve()).catch(() => {}).then(() => {\n      if (!img.parentNode) {\n        return;\n      }\n      setStatus(SLIDE_STATUS_COMPLETE);\n      setTimeout(() => {\n        onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n      }, 0);\n    });\n  });\n  const setImageRef = React.useCallback(img => {\n    imageRef.current = img;\n    if (img === null || img === void 0 ? void 0 : img.complete) {\n      handleLoading(img);\n    }\n  }, [handleLoading]);\n  const handleOnLoad = React.useCallback(event => {\n    handleLoading(event.currentTarget);\n  }, [handleLoading]);\n  const onError = React.useCallback(() => {\n    setStatus(SLIDE_STATUS_ERROR);\n  }, []);\n  const cover = isImageFitCover(image, imageFit);\n  const nonInfinite = (value, fallback) => Number.isFinite(value) ? value : fallback;\n  const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map(x => x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [image.width] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n  const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map(x => x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [image.height] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n  const defaultStyle = maxWidth && maxHeight ? {\n    maxWidth: `min(${maxWidth}px, 100%)`,\n    maxHeight: `min(${maxHeight}px, 100%)`\n  } : {\n    maxWidth: \"100%\",\n    maxHeight: \"100%\"\n  };\n  const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b) => a.width - b.width).map(item => `${item.src} ${item.width}w`).join(\", \");\n  const estimateActualWidth = () => rect && !cover && image.width && image.height ? rect.height / image.height * image.width : Number.MAX_VALUE;\n  const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n  const {\n    style: imagePropsStyle,\n    className: imagePropsClassName,\n    ...restImageProps\n  } = imageProps || {};\n  return React.createElement(React.Fragment, null, React.createElement(\"img\", {\n    ref: setImageRef,\n    onLoad: handleOnLoad,\n    onError: onError,\n    onClick: onClick,\n    draggable: false,\n    className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName),\n    style: {\n      ...defaultStyle,\n      ...style,\n      ...imagePropsStyle\n    },\n    ...restImageProps,\n    alt: image.alt,\n    sizes: sizes,\n    srcSet: srcSet,\n    src: image.src\n  }), status !== SLIDE_STATUS_COMPLETE && React.createElement(\"div\", {\n    className: cssClass(slidePrefix(SLIDE_STATUS_PLACEHOLDER))\n  }, status === SLIDE_STATUS_LOADING && ((render === null || render === void 0 ? void 0 : render.iconLoading) ? render.iconLoading() : React.createElement(LoadingIcon, {\n    className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_LOADING)))\n  })), status === SLIDE_STATUS_ERROR && ((render === null || render === void 0 ? void 0 : render.iconError) ? render.iconError() : React.createElement(ErrorIcon, {\n    className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_ERROR)))\n  }))));\n}\nvar SwipeState;\n(function (SwipeState) {\n  SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n  SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n  SwipeState[SwipeState[\"PULL_DOWN\"] = 2] = \"PULL_DOWN\";\n  SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n  React.useEffect(() => !disabled ? cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp)) : () => {}, [subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled]);\n}\nvar Gesture;\n(function (Gesture) {\n  Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n  Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n  Gesture[Gesture[\"PULL_DOWN\"] = 2] = \"PULL_DOWN\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullDownEnabled, onPullDownStart, onPullDownProgress, onPullDownFinish, onPullDownCancel) {\n  const offset = React.useRef(0);\n  const pointers = React.useRef([]);\n  const activePointer = React.useRef();\n  const startTime = React.useRef(0);\n  const gesture = React.useRef(Gesture.NONE);\n  const clearPointer = React.useCallback(event => {\n    if (activePointer.current === event.pointerId) {\n      activePointer.current = undefined;\n      gesture.current = Gesture.NONE;\n    }\n    const currentPointers = pointers.current;\n    currentPointers.splice(0, currentPointers.length, ...currentPointers.filter(p => p.pointerId !== event.pointerId));\n  }, []);\n  const addPointer = React.useCallback(event => {\n    clearPointer(event);\n    event.persist();\n    pointers.current.push(event);\n  }, [clearPointer]);\n  const onPointerDown = useEventCallback(event => {\n    addPointer(event);\n  });\n  const onPointerUp = useEventCallback(event => {\n    if (pointers.current.find(x => x.pointerId === event.pointerId) && activePointer.current === event.pointerId) {\n      const duration = Date.now() - startTime.current;\n      const currentOffset = offset.current;\n      if (gesture.current === Gesture.SWIPE) {\n        if (Math.abs(currentOffset) > 0.3 * containerWidth || Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration) {\n          onSwipeFinish(currentOffset, duration);\n        } else {\n          onSwipeCancel(currentOffset);\n        }\n      } else if (gesture.current === Gesture.PULL_DOWN) {\n        if (currentOffset > 2 * SWIPE_THRESHOLD) {\n          onPullDownFinish(currentOffset, duration);\n        } else {\n          onPullDownCancel(currentOffset);\n        }\n      }\n      offset.current = 0;\n      gesture.current = Gesture.NONE;\n    }\n    clearPointer(event);\n  });\n  const onPointerMove = useEventCallback(event => {\n    const pointer = pointers.current.find(p => p.pointerId === event.pointerId);\n    if (pointer) {\n      const isCurrentPointer = activePointer.current === event.pointerId;\n      if (event.buttons === 0) {\n        if (isCurrentPointer && offset.current !== 0) {\n          onPointerUp(event);\n        } else {\n          clearPointer(pointer);\n        }\n        return;\n      }\n      const deltaX = event.clientX - pointer.clientX;\n      const deltaY = event.clientY - pointer.clientY;\n      if (activePointer.current === undefined) {\n        const startGesture = newGesture => {\n          addPointer(event);\n          activePointer.current = event.pointerId;\n          startTime.current = Date.now();\n          gesture.current = newGesture;\n        };\n        if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n          startGesture(Gesture.SWIPE);\n          onSwipeStart();\n        } else if (pullDownEnabled && Math.abs(deltaY) > Math.abs(deltaX) && deltaY > SWIPE_THRESHOLD) {\n          startGesture(Gesture.PULL_DOWN);\n          onPullDownStart();\n        }\n      } else if (isCurrentPointer) {\n        if (gesture.current === Gesture.SWIPE) {\n          offset.current = deltaX;\n          onSwipeProgress(deltaX);\n        } else if (gesture.current === Gesture.PULL_DOWN) {\n          offset.current = deltaY;\n          onPullDownProgress(deltaY);\n        }\n      }\n    }\n  });\n  usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\nconst WHEEL = \"wheel\";\nfunction preventDefault(event) {\n  if (Math.abs(event.deltaX) > Math.abs(event.deltaY) || event.ctrlKey) {\n    event.preventDefault();\n  }\n}\nfunction usePreventSwipeNavigation() {\n  const ref = React.useRef(null);\n  return React.useCallback(node => {\n    var _a;\n    if (node) {\n      node.addEventListener(WHEEL, preventDefault, {\n        passive: false\n      });\n    } else {\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(WHEEL, preventDefault);\n    }\n    ref.current = node;\n  }, []);\n}\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n  const offset = React.useRef(0);\n  const intent = React.useRef(0);\n  const intentCleanup = React.useRef();\n  const resetCleanup = React.useRef();\n  const wheelResidualMomentum = React.useRef(0);\n  const startTime = React.useRef(0);\n  const {\n    setTimeout,\n    clearTimeout\n  } = useTimeouts();\n  const cancelSwipeIntentCleanup = React.useCallback(() => {\n    if (intentCleanup.current) {\n      clearTimeout(intentCleanup.current);\n      intentCleanup.current = undefined;\n    }\n  }, [clearTimeout]);\n  const cancelSwipeResetCleanup = React.useCallback(() => {\n    if (resetCleanup.current) {\n      clearTimeout(resetCleanup.current);\n      resetCleanup.current = undefined;\n    }\n  }, [clearTimeout]);\n  const handleCleanup = useEventCallback(() => {\n    if (swipeState !== SwipeState.SWIPE) {\n      offset.current = 0;\n      startTime.current = 0;\n      cancelSwipeIntentCleanup();\n      cancelSwipeResetCleanup();\n    }\n  });\n  React.useEffect(handleCleanup, [swipeState, handleCleanup]);\n  const handleCancelSwipe = useEventCallback(currentSwipeOffset => {\n    resetCleanup.current = undefined;\n    if (offset.current === currentSwipeOffset) {\n      onSwipeCancel(offset.current);\n    }\n  });\n  const onWheel = useEventCallback(event => {\n    if (event.ctrlKey) {\n      return;\n    }\n    if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n      return;\n    }\n    if (swipeState === SwipeState.NONE) {\n      if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelResidualMomentum.current)) {\n        wheelResidualMomentum.current = event.deltaX;\n        return;\n      }\n      if (!isSwipeValid(-event.deltaX)) {\n        return;\n      }\n      intent.current += event.deltaX;\n      cancelSwipeIntentCleanup();\n      if (Math.abs(intent.current) > 30) {\n        intent.current = 0;\n        wheelResidualMomentum.current = 0;\n        startTime.current = Date.now();\n        onSwipeStart();\n      } else {\n        const currentSwipeIntent = intent.current;\n        intentCleanup.current = setTimeout(() => {\n          intentCleanup.current = undefined;\n          if (currentSwipeIntent === intent.current) {\n            intent.current = 0;\n          }\n        }, swipeAnimationDuration);\n      }\n    } else if (swipeState === SwipeState.SWIPE) {\n      let newSwipeOffset = offset.current - event.deltaX;\n      newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n      offset.current = newSwipeOffset;\n      onSwipeProgress(newSwipeOffset);\n      cancelSwipeResetCleanup();\n      if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n        wheelResidualMomentum.current = event.deltaX;\n        onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n        return;\n      }\n      resetCleanup.current = setTimeout(() => handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n    } else {\n      wheelResidualMomentum.current = event.deltaX;\n    }\n  });\n  React.useEffect(() => subscribeSensors(EVENT_ON_WHEEL, onWheel), [subscribeSensors, onWheel]);\n}\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = React.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller(_ref8) {\n  let {\n    children,\n    ...props\n  } = _ref8;\n  var _a;\n  const {\n    carousel,\n    animation,\n    controller,\n    on,\n    styles,\n    render\n  } = props;\n  const [toolbarWidth, setToolbarWidth] = React.useState();\n  const state = useLightboxState();\n  const dispatch = useLightboxDispatch();\n  const [swipeState, setSwipeState] = React.useState(SwipeState.NONE);\n  const swipeOffset = React.useRef(0);\n  const pullDownOffset = React.useRef(0);\n  const pullDownOpacity = React.useRef(1);\n  const {\n    registerSensors,\n    subscribeSensors\n  } = useSensors();\n  const {\n    subscribe,\n    publish\n  } = useEvents();\n  const cleanupAnimationIncrement = useDelay();\n  const cleanupSwipeOffset = useDelay();\n  const cleanupPullDownOffset = useDelay();\n  const {\n    containerRef,\n    setContainerRef,\n    containerRect\n  } = useContainerRect();\n  const handleContainerRef = useForkRef(usePreventSwipeNavigation(), setContainerRef);\n  const carouselRef = React.useRef(null);\n  const setCarouselRef = useForkRef(carouselRef, undefined);\n  const isRTL = useRTL();\n  const rtl = value => (isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n  const focus = useEventCallback(() => {\n    var _a;\n    return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n  });\n  const getLightboxProps = useEventCallback(() => props);\n  const getLightboxState = useEventCallback(() => state);\n  const prev = React.useCallback(params => publish(ACTION_PREV, params), [publish]);\n  const next = React.useCallback(params => publish(ACTION_NEXT, params), [publish]);\n  const close = React.useCallback(() => publish(ACTION_CLOSE), [publish]);\n  const isSwipeValid = offset => !(carousel.finite && (rtl(offset) > 0 && state.currentIndex === 0 || rtl(offset) < 0 && state.currentIndex === state.slides.length - 1));\n  const setSwipeOffset = offset => {\n    var _a;\n    swipeOffset.current = offset;\n    (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n  };\n  const {\n    closeOnPullDown\n  } = controller;\n  const setPullDownOffset = offset => {\n    var _a, _b;\n    pullDownOffset.current = offset;\n    pullDownOpacity.current = (() => {\n      const threshold = 60;\n      const minOpacity = 0.5;\n      return Math.min(Math.max(round(1 - offset / threshold * (1 - minOpacity), 2), minOpacity), 1);\n    })();\n    (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_down_offset\"), `${Math.round(offset)}px`);\n    (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_down_opacity\"), `${pullDownOpacity.current}`);\n  };\n  const {\n    prepareAnimation: preparePullDownAnimation\n  } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n    if (carouselRef.current && containerRect) {\n      return {\n        keyframes: [{\n          transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n          opacity: snapshot.opacity\n        }, {\n          transform: \"translate(0, 0)\",\n          opacity: 1\n        }],\n        duration: snapshot.duration,\n        easing: animation.easing.fade\n      };\n    }\n    return undefined;\n  });\n  const pullDown = (offset, cancel) => {\n    if (closeOnPullDown) {\n      setPullDownOffset(offset);\n      let duration = 0;\n      if (carouselRef.current) {\n        duration = animation.fade * (cancel ? 2 : 1);\n        preparePullDownAnimation({\n          rect: carouselRef.current.getBoundingClientRect(),\n          opacity: pullDownOpacity.current,\n          duration\n        });\n      }\n      cleanupPullDownOffset(() => {\n        setPullDownOffset(0);\n        setSwipeState(SwipeState.NONE);\n      }, duration);\n      setSwipeState(SwipeState.ANIMATION);\n      if (!cancel) {\n        close();\n      }\n    }\n  };\n  const {\n    prepareAnimation,\n    isAnimationPlaying\n  } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n    var _a;\n    if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n      const parsedSpacing = parseLengthPercentage(carousel.spacing);\n      const spacingValue = (parsedSpacing.percent ? parsedSpacing.percent * containerRect.width / 100 : parsedSpacing.pixel) || 0;\n      return {\n        keyframes: [{\n          transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) + snapshot.rect.x - rect.x + translate.x}px, 0)`\n        }, {\n          transform: \"translate(0, 0)\"\n        }],\n        duration: state.animation.duration,\n        easing: state.animation.easing\n      };\n    }\n    return undefined;\n  });\n  const swipe = useEventCallback(action => {\n    var _a, _b;\n    const currentSwipeOffset = action.offset || 0;\n    const swipeDuration = !currentSwipeOffset ? (_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe : animation.swipe;\n    const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n    let {\n      direction\n    } = action;\n    const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n    let newSwipeState = SwipeState.ANIMATION;\n    let newSwipeAnimationDuration = swipeDuration * count;\n    if (!direction) {\n      const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n      const elapsedTime = action.duration || 0;\n      const expectedTime = containerWidth ? swipeDuration / containerWidth * Math.abs(currentSwipeOffset) : swipeDuration;\n      if (count !== 0) {\n        if (elapsedTime < expectedTime) {\n          newSwipeAnimationDuration = newSwipeAnimationDuration / expectedTime * Math.max(elapsedTime, expectedTime / 5);\n        } else if (containerWidth) {\n          newSwipeAnimationDuration = swipeDuration / containerWidth * (containerWidth - Math.abs(currentSwipeOffset));\n        }\n        direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n      } else {\n        newSwipeAnimationDuration = swipeDuration / 2;\n      }\n    }\n    let increment = 0;\n    if (direction === ACTION_PREV) {\n      if (isSwipeValid(rtl(1))) {\n        increment = -count;\n      } else {\n        newSwipeState = SwipeState.NONE;\n        newSwipeAnimationDuration = swipeDuration;\n      }\n    } else if (direction === ACTION_NEXT) {\n      if (isSwipeValid(rtl(-1))) {\n        increment = count;\n      } else {\n        newSwipeState = SwipeState.NONE;\n        newSwipeAnimationDuration = swipeDuration;\n      }\n    }\n    newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n    cleanupSwipeOffset(() => {\n      setSwipeOffset(0);\n      setSwipeState(SwipeState.NONE);\n    }, newSwipeAnimationDuration);\n    if (carouselRef.current) {\n      prepareAnimation({\n        rect: carouselRef.current.getBoundingClientRect(),\n        index: state.globalIndex\n      });\n    }\n    setSwipeState(newSwipeState);\n    publish(ACTION_SWIPE, {\n      type: \"swipe\",\n      increment,\n      duration: newSwipeAnimationDuration,\n      easing: swipeEasing\n    });\n  });\n  React.useEffect(() => {\n    var _a, _b;\n    if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n      cleanupAnimationIncrement(() => dispatch({\n        type: \"swipe\",\n        increment: 0\n      }), state.animation.duration);\n    }\n  }, [state.animation, dispatch, cleanupAnimationIncrement]);\n  const swipeParams = [subscribeSensors, isSwipeValid, (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0, animation.swipe, () => setSwipeState(SwipeState.SWIPE), offset => setSwipeOffset(offset), (offset, duration) => swipe({\n    offset,\n    duration,\n    count: 1\n  }), offset => swipe({\n    offset,\n    count: 0\n  })];\n  const pullDownParams = [() => {\n    if (closeOnPullDown) {\n      setSwipeState(SwipeState.PULL_DOWN);\n    }\n  }, offset => setPullDownOffset(offset), offset => pullDown(offset), offset => pullDown(offset, true)];\n  usePointerSwipe(...swipeParams, closeOnPullDown, ...pullDownParams);\n  useWheelSwipe(swipeState, ...swipeParams);\n  const focusOnMount = useEventCallback(() => {\n    var _a;\n    if (controller.focus) {\n      (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  });\n  React.useEffect(focusOnMount, [focusOnMount]);\n  const onViewCallback = useEventCallback(() => {\n    var _a;\n    (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, {\n      index: state.currentIndex\n    });\n  });\n  React.useEffect(onViewCallback, [state.globalIndex, onViewCallback]);\n  React.useEffect(() => cleanup(subscribe(ACTION_PREV, action => swipe({\n    direction: ACTION_PREV,\n    ...action\n  })), subscribe(ACTION_NEXT, action => swipe({\n    direction: ACTION_NEXT,\n    ...action\n  })), subscribe(ACTION_SWIPE, action => dispatch(action))), [subscribe, swipe, dispatch]);\n  const context = React.useMemo(() => ({\n    prev,\n    next,\n    close,\n    focus,\n    slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : {\n      width: 0,\n      height: 0\n    },\n    containerRect: containerRect || {\n      width: 0,\n      height: 0\n    },\n    subscribeSensors,\n    containerRef,\n    setCarouselRef,\n    toolbarWidth,\n    setToolbarWidth\n  }), [prev, next, close, focus, subscribeSensors, containerRect, containerRef, setCarouselRef, toolbarWidth, setToolbarWidth, carousel.padding]);\n  React.useImperativeHandle(controller.ref, () => ({\n    prev,\n    next,\n    close,\n    focus,\n    getLightboxProps,\n    getLightboxState\n  }), [prev, next, close, focus, getLightboxProps, getLightboxState]);\n  return React.createElement(\"div\", {\n    ref: handleContainerRef,\n    className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)),\n    style: {\n      ...(swipeState === SwipeState.SWIPE ? {\n        [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px`\n      } : null),\n      ...(swipeState === SwipeState.PULL_DOWN ? {\n        [cssVar(\"pull_down_offset\")]: `${Math.round(pullDownOffset.current)}px`,\n        [cssVar(\"pull_down_opacity\")]: `${pullDownOpacity.current}`\n      } : null),\n      ...(controller.touchAction !== \"none\" ? {\n        [cssVar(\"controller_touch_action\")]: controller.touchAction\n      } : null),\n      ...styles.container\n    },\n    ...(controller.aria ? {\n      role: \"presentation\",\n      \"aria-live\": \"polite\"\n    } : null),\n    tabIndex: -1,\n    ...registerSensors\n  }, containerRect && React.createElement(ControllerContext.Provider, {\n    value: context\n  }, children, (_a = render.controls) === null || _a === void 0 ? void 0 : _a.call(render)));\n}\nconst ControllerModule = createModule(MODULE_CONTROLLER, Controller);\nfunction cssPrefix$2(value) {\n  return composePrefix(MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n  return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide(_ref9) {\n  let {\n    slide,\n    offset\n  } = _ref9;\n  const containerRef = React.useRef(null);\n  const {\n    currentIndex\n  } = useLightboxState();\n  const {\n    slideRect,\n    close\n  } = useController();\n  const {\n    render,\n    carousel: {\n      imageFit,\n      imageProps\n    },\n    on: {\n      click: onClick\n    },\n    controller: {\n      closeOnBackdropClick\n    },\n    styles: {\n      slide: style\n    }\n  } = useLightboxProps();\n  const renderSlide = () => {\n    var _a, _b, _c, _d;\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, {\n      slide,\n      offset,\n      rect: slideRect\n    });\n    if (!rendered && isImageSlide(slide)) {\n      rendered = React.createElement(ImageSlide, {\n        slide: slide,\n        offset: offset,\n        render: render,\n        rect: slideRect,\n        imageFit: imageFit,\n        imageProps: imageProps,\n        onClick: offset === 0 ? () => onClick === null || onClick === void 0 ? void 0 : onClick({\n          index: currentIndex\n        }) : undefined\n      });\n    }\n    return rendered ? React.createElement(React.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 : _b.call(render, {\n      slide\n    }), ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : _ref10 => {\n      let {\n        children\n      } = _ref10;\n      return children;\n    })({\n      slide,\n      children: rendered\n    }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 : _d.call(render, {\n      slide\n    })) : null;\n  };\n  const handleBackdropClick = event => {\n    const container = containerRef.current;\n    const target = event.target instanceof HTMLElement ? event.target : undefined;\n    if (closeOnBackdropClick && target && container && (target === container || Array.from(container.children).find(x => x === target) && target.classList.contains(cssClass(CLASS_FULLSIZE)))) {\n      close();\n    }\n  };\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    className: clsx(cssClass(cssSlidePrefix()), offset === 0 && cssClass(cssSlidePrefix(\"current\")), cssClass(CLASS_FLEX_CENTER)),\n    onClick: handleBackdropClick,\n    style: style\n  }, renderSlide());\n}\nfunction Placeholder() {\n  const style = useLightboxProps().styles.slide;\n  return React.createElement(\"div\", {\n    className: cssClass(\"slide\"),\n    style: style\n  });\n}\nfunction Carousel(_ref11) {\n  let {\n    carousel\n  } = _ref11;\n  const {\n    slides,\n    currentIndex,\n    globalIndex\n  } = useLightboxState();\n  const {\n    setCarouselRef\n  } = useController();\n  const spacingValue = parseLengthPercentage(carousel.spacing);\n  const paddingValue = parseLengthPercentage(carousel.padding);\n  const items = [];\n  const preload = calculatePreload(carousel, slides, 1);\n  if (hasSlides(slides)) {\n    for (let i = currentIndex - preload; i < currentIndex; i += 1) {\n      const key = globalIndex + i - currentIndex;\n      items.push(!carousel.finite || i >= 0 ? React.createElement(CarouselSlide, {\n        key: key,\n        slide: slides[(i + preload * slides.length) % slides.length],\n        offset: i - currentIndex\n      }) : React.createElement(Placeholder, {\n        key: key\n      }));\n    }\n    items.push(React.createElement(CarouselSlide, {\n      key: globalIndex,\n      slide: slides[currentIndex],\n      offset: 0\n    }));\n    for (let i = currentIndex + 1; i <= currentIndex + preload; i += 1) {\n      const key = globalIndex + i - currentIndex;\n      items.push(!carousel.finite || i <= slides.length - 1 ? React.createElement(CarouselSlide, {\n        key: key,\n        slide: slides[i % slides.length],\n        offset: i - currentIndex\n      }) : React.createElement(Placeholder, {\n        key: key\n      }));\n    }\n  }\n  return React.createElement(\"div\", {\n    ref: setCarouselRef,\n    className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))),\n    style: {\n      [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n      [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n      [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n      [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n      [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0\n    }\n  }, items);\n}\nconst CarouselModule = createModule(MODULE_CAROUSEL, Carousel);\nfunction useNavigationState() {\n  const {\n    carousel\n  } = useLightboxProps();\n  const {\n    slides,\n    currentIndex\n  } = useLightboxState();\n  const prevDisabled = slides.length === 0 || carousel.finite && currentIndex === 0;\n  const nextDisabled = slides.length === 0 || carousel.finite && currentIndex === slides.length - 1;\n  return {\n    prevDisabled,\n    nextDisabled\n  };\n}\nfunction useKeyboardNavigation(subscribeSensors) {\n  var _a;\n  const isRTL = useRTL();\n  const {\n    publish\n  } = useEvents();\n  const {\n    animation\n  } = useLightboxProps();\n  const {\n    prevDisabled,\n    nextDisabled\n  } = useNavigationState();\n  const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n  const prev = useThrottle(() => publish(ACTION_PREV), throttle);\n  const next = useThrottle(() => publish(ACTION_NEXT), throttle);\n  const handleKeyDown = useEventCallback(event => {\n    switch (event.key) {\n      case VK_ESCAPE:\n        publish(ACTION_CLOSE);\n        break;\n      case VK_ARROW_LEFT:\n        if (!(isRTL ? nextDisabled : prevDisabled)) (isRTL ? next : prev)();\n        break;\n      case VK_ARROW_RIGHT:\n        if (!(isRTL ? prevDisabled : nextDisabled)) (isRTL ? prev : next)();\n        break;\n      default:\n    }\n  });\n  React.useEffect(() => subscribeSensors(EVENT_ON_KEY_DOWN, handleKeyDown), [subscribeSensors, handleKeyDown]);\n}\nfunction NavigationButton(_ref12) {\n  let {\n    label,\n    icon,\n    renderIcon,\n    action,\n    onClick,\n    disabled,\n    style\n  } = _ref12;\n  return React.createElement(IconButton, {\n    label: label,\n    icon: icon,\n    renderIcon: renderIcon,\n    className: cssClass(`navigation_${action}`),\n    disabled: disabled,\n    onClick: onClick,\n    style: style,\n    ...useLoseFocus(useController().focus, disabled)\n  });\n}\nfunction Navigation(_ref13) {\n  let {\n    render: {\n      buttonPrev,\n      buttonNext,\n      iconPrev,\n      iconNext\n    },\n    styles\n  } = _ref13;\n  const {\n    prev,\n    next,\n    subscribeSensors\n  } = useController();\n  const {\n    prevDisabled,\n    nextDisabled\n  } = useNavigationState();\n  useKeyboardNavigation(subscribeSensors);\n  return React.createElement(React.Fragment, null, buttonPrev ? buttonPrev() : React.createElement(NavigationButton, {\n    label: \"Previous\",\n    action: ACTION_PREV,\n    icon: PreviousIcon,\n    renderIcon: iconPrev,\n    style: styles.navigationPrev,\n    disabled: prevDisabled,\n    onClick: prev\n  }), buttonNext ? buttonNext() : React.createElement(NavigationButton, {\n    label: \"Next\",\n    action: ACTION_NEXT,\n    icon: NextIcon,\n    renderIcon: iconNext,\n    style: styles.navigationNext,\n    disabled: nextDisabled,\n    onClick: next\n  }));\n}\nconst NavigationModule = createModule(MODULE_NAVIGATION, Navigation);\nconst noScroll = cssClass(CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n  return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n  const styles = window.getComputedStyle(element);\n  const property = rtl ? \"padding-left\" : \"padding-right\";\n  const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n  const originalValue = element.style.getPropertyValue(property);\n  element.style.setProperty(property, `${(parseInt(computedValue, 10) || 0) + padding}px`);\n  return () => {\n    if (originalValue) {\n      element.style.setProperty(property, originalValue);\n    } else {\n      element.style.removeProperty(property);\n    }\n  };\n}\nfunction NoScroll(_ref14) {\n  let {\n    noScroll: {\n      disabled\n    },\n    children\n  } = _ref14;\n  const rtl = useRTL();\n  useLayoutEffect(() => {\n    if (disabled) return () => {};\n    const cleanup = [];\n    const {\n      body,\n      documentElement\n    } = document;\n    const scrollbar = Math.round(window.innerWidth - documentElement.clientWidth);\n    if (scrollbar > 0) {\n      cleanup.push(padScrollbar(body, scrollbar, rtl));\n      const elements = body.getElementsByTagName(\"*\");\n      for (let i = 0; i < elements.length; i += 1) {\n        const element = elements[i];\n        if (isHTMLElement(element) && window.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" && !element.classList.contains(noScrollPadding)) {\n          cleanup.push(padScrollbar(element, scrollbar, rtl));\n        }\n      }\n    }\n    body.classList.add(noScroll);\n    return () => {\n      body.classList.remove(noScroll);\n      cleanup.forEach(clean => clean());\n    };\n  }, [rtl, disabled]);\n  return React.createElement(React.Fragment, null, children);\n}\nconst NoScrollModule = createModule(MODULE_NO_SCROLL, NoScroll);\nfunction cssPrefix$1(value) {\n  return composePrefix(MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n  const previousValue = element.getAttribute(attribute);\n  element.setAttribute(attribute, value);\n  return () => {\n    if (previousValue) {\n      element.setAttribute(attribute, previousValue);\n    } else {\n      element.removeAttribute(attribute);\n    }\n  };\n}\nfunction Portal(_ref15) {\n  let {\n    children,\n    animation,\n    styles,\n    className,\n    on,\n    portal,\n    close\n  } = _ref15;\n  const [mounted, setMounted] = React.useState(false);\n  const [visible, setVisible] = React.useState(false);\n  const cleanup = React.useRef([]);\n  const {\n    setTimeout\n  } = useTimeouts();\n  const {\n    subscribe\n  } = useEvents();\n  const reduceMotion = useMotionPreference();\n  const animationDuration = !reduceMotion ? animation.fade : 0;\n  React.useEffect(() => {\n    setMounted(true);\n    return () => {\n      setMounted(false);\n      setVisible(false);\n    };\n  }, []);\n  const handleClose = useEventCallback(() => {\n    var _a;\n    setVisible(false);\n    (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n    setTimeout(() => {\n      var _a;\n      (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n      close();\n    }, animationDuration);\n  });\n  React.useEffect(() => subscribe(ACTION_CLOSE, handleClose), [subscribe, handleClose]);\n  const handleEnter = useEventCallback(node => {\n    var _a, _b, _c;\n    node.scrollTop;\n    setVisible(true);\n    (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n    const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n    for (let i = 0; i < elements.length; i += 1) {\n      const element = elements[i];\n      if ([\"TEMPLATE\", \"SCRIPT\", \"STYLE\"].indexOf(element.tagName) === -1 && element !== node) {\n        cleanup.current.push(setAttribute(element, \"inert\", \"true\"));\n        cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n      }\n    }\n    setTimeout(() => {\n      var _a;\n      (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n    }, animationDuration);\n  });\n  const handleExit = useEventCallback(() => {\n    cleanup.current.forEach(clean => clean());\n    cleanup.current = [];\n  });\n  const handleRef = React.useCallback(node => {\n    if (node) {\n      handleEnter(node);\n    } else {\n      handleExit();\n    }\n  }, [handleEnter, handleExit]);\n  return mounted ? createPortal(React.createElement(\"div\", {\n    ref: handleRef,\n    className: clsx(className, cssClass(\"root\"), cssClass(cssPrefix$1()), cssClass(CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))),\n    role: \"presentation\",\n    \"aria-live\": \"polite\",\n    style: {\n      ...(animation.fade !== LightboxDefaultProps.animation.fade ? {\n        [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms`\n      } : null),\n      ...(animation.easing.fade !== LightboxDefaultProps.animation.easing.fade ? {\n        [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade\n      } : null),\n      ...styles.root\n    }\n  }, children), portal.root || document.body) : null;\n}\nconst PortalModule = createModule(MODULE_PORTAL, Portal);\nfunction Root(_ref16) {\n  let {\n    children\n  } = _ref16;\n  return React.createElement(React.Fragment, null, children);\n}\nconst RootModule = createModule(MODULE_ROOT, Root);\nfunction cssPrefix(value) {\n  return composePrefix(MODULE_TOOLBAR, value);\n}\nfunction Toolbar(_ref17) {\n  let {\n    toolbar: {\n      buttons\n    },\n    render: {\n      buttonClose,\n      iconClose\n    },\n    styles\n  } = _ref17;\n  const {\n    close,\n    setToolbarWidth\n  } = useController();\n  const {\n    setContainerRef,\n    containerRect\n  } = useContainerRect();\n  useLayoutEffect(() => {\n    setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n  }, [setToolbarWidth, containerRect === null || containerRect === void 0 ? void 0 : containerRect.width]);\n  const renderCloseButton = () => {\n    if (buttonClose) return buttonClose();\n    return React.createElement(IconButton, {\n      key: ACTION_CLOSE,\n      label: \"Close\",\n      icon: CloseIcon,\n      renderIcon: iconClose,\n      onClick: close\n    });\n  };\n  return React.createElement(\"div\", {\n    ref: setContainerRef,\n    style: styles.toolbar,\n    className: cssClass(cssPrefix()),\n    ...stopNavigationEventsPropagation()\n  }, buttons === null || buttons === void 0 ? void 0 : buttons.map(button => button === ACTION_CLOSE ? renderCloseButton() : button));\n}\nconst ToolbarModule = createModule(MODULE_TOOLBAR, Toolbar);\nfunction renderNode(node, props) {\n  var _a;\n  return React.createElement(node.module.component, {\n    key: node.module.name,\n    ...props\n  }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map(child => renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation) {\n  let animation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    easing: defaultAnimationEasing,\n    ...restDefaultAnimation\n  } = defaultAnimation;\n  const {\n    easing,\n    ...restAnimation\n  } = animation;\n  return {\n    easing: {\n      ...defaultAnimationEasing,\n      ...easing\n    },\n    ...restDefaultAnimation,\n    ...restAnimation\n  };\n}\nfunction Lightbox(_ref18) {\n  let {\n    carousel,\n    animation,\n    render,\n    toolbar,\n    controller,\n    noScroll,\n    on,\n    plugins,\n    slides,\n    index,\n    ...restProps\n  } = _ref18;\n  const {\n    animation: defaultAnimation,\n    carousel: defaultCarousel,\n    render: defaultRender,\n    toolbar: defaultToolbar,\n    controller: defaultController,\n    noScroll: defaultNoScroll,\n    on: defaultOn,\n    slides: defaultSlides,\n    index: defaultIndex,\n    plugins: defaultPlugins,\n    ...restDefaultProps\n  } = LightboxDefaultProps;\n  const {\n    config,\n    augmentation\n  } = withPlugins([createNode(PortalModule, [createNode(NoScrollModule, [createNode(ControllerModule, [createNode(CarouselModule), createNode(ToolbarModule), createNode(NavigationModule)])])])], plugins || defaultPlugins);\n  const props = augmentation({\n    animation: mergeAnimation(defaultAnimation, animation),\n    carousel: {\n      ...defaultCarousel,\n      ...carousel\n    },\n    render: {\n      ...defaultRender,\n      ...render\n    },\n    toolbar: {\n      ...defaultToolbar,\n      ...toolbar\n    },\n    controller: {\n      ...defaultController,\n      ...controller\n    },\n    noScroll: {\n      ...defaultNoScroll,\n      ...noScroll\n    },\n    on: {\n      ...defaultOn,\n      ...on\n    },\n    ...restDefaultProps,\n    ...restProps\n  });\n  if (!props.open) return null;\n  return React.createElement(LightboxPropsProvider, {\n    ...props\n  }, React.createElement(LightboxStateProvider, {\n    slides: slides || defaultSlides,\n    index: index || defaultIndex\n  }, React.createElement(TimeoutsProvider, null, React.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props)))));\n}\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, CLASS_FLEX_CENTER, CLASS_FULLSIZE, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, Carousel, CarouselModule, CloseIcon, Controller, ControllerContext, ControllerModule, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, ErrorIcon, EventsContext, EventsProvider, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, IconButton, ImageSlide, Lightbox, LightboxDefaultProps, LightboxDispatchContext, LightboxPropsContext, LightboxPropsProvider, LightboxStateContext, LightboxStateProvider, LoadingIcon, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, Navigation, NavigationButton, NavigationModule, NextIcon, NoScroll, NoScrollModule, Portal, PortalModule, PreviousIcon, Root, RootModule, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SwipeState, TimeoutsContext, TimeoutsProvider, Toolbar, ToolbarModule, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus, addToolbarButton, calculatePreload, cleanup, clsx, composePrefix, computeSlideRect, createIcon, createIconDisabled, createModule, createNode, cssClass, cssVar, Lightbox as default, devicePixelRatio, getSlide, getSlideIfPresent, getSlideIndex, hasSlides, hasWindow, isImageFitCover, isImageSlide, label, makeComposePrefix, makeUseContext, parseLengthPercentage, round, setRef, stopNavigationEventsPropagation, useAnimation, useContainerRect, useController, useDelay, useEventCallback, useEvents, useForkRef, useKeyboardNavigation, useLayoutEffect, useLightboxDispatch, useLightboxProps, useLightboxState, useLoseFocus, useMotionPreference, useNavigationState, usePointerEvents, usePointerSwipe, usePreventSwipeNavigation, useRTL, useSensors, useThrottle, useTimeouts, useWheelSwipe, withPlugins };","import { useLightboxProps, useMotionPreference, useEventCallback, useLayoutEffect, useLightboxState, isImageSlide, isImageFitCover, round, useController, usePointerEvents, cleanup, makeUseContext, createIcon, IconButton, devicePixelRatio, ImageSlide, cssClass, clsx, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { EVENT_ON_KEY_DOWN, EVENT_ON_WHEEL, UNKNOWN_ACTION_TYPE, CLASS_FULLSIZE, CLASS_FLEX_CENTER, PLUGIN_ZOOM } from '../../types.js';\nconst defaultZoomProps = {\n  maxZoomPixelRatio: 1,\n  zoomInMultiplier: 2,\n  doubleTapDelay: 300,\n  doubleClickDelay: 500,\n  doubleClickMaxStops: 2,\n  keyboardMoveDistance: 50,\n  wheelZoomDistanceFactor: 100,\n  pinchZoomDistanceFactor: 100,\n  scrollToZoom: false\n};\nconst resolveZoomProps = zoom => ({\n  ...defaultZoomProps,\n  ...zoom\n});\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n  const zoomAnimation = React.useRef();\n  const zoomAnimationStart = React.useRef();\n  const {\n    zoom: zoomAnimationDuration\n  } = useLightboxProps().animation;\n  const reduceMotion = useMotionPreference();\n  const playZoomAnimation = useEventCallback(() => {\n    var _a, _b, _c;\n    (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n    zoomAnimation.current = undefined;\n    if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n      try {\n        zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [{\n          transform: zoomAnimationStart.current\n        }, {\n          transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)`\n        }], {\n          duration: !reduceMotion ? zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500 : 0,\n          easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\"\n        });\n      } catch (err) {\n        console.error(err);\n      }\n      zoomAnimationStart.current = undefined;\n      if (zoomAnimation.current) {\n        zoomAnimation.current.onfinish = () => {\n          zoomAnimation.current = undefined;\n        };\n      }\n    }\n  });\n  useLayoutEffect(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n  return React.useCallback(() => {\n    zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) ? window.getComputedStyle(zoomWrapperRef.current).transform : undefined;\n  }, [zoomWrapperRef]);\n}\nfunction useZoomCallback(zoom, disabled) {\n  const {\n    on\n  } = useLightboxProps();\n  const onZoomCallback = useEventCallback(() => {\n    var _a;\n    if (!disabled) {\n      (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, {\n        zoom\n      });\n    }\n  });\n  React.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\nfunction useZoomProps() {\n  const {\n    zoom\n  } = useLightboxProps();\n  return resolveZoomProps(zoom);\n}\nfunction useZoomImageRect(slideRect, imageDimensions) {\n  var _a, _b;\n  let imageRect = {\n    width: 0,\n    height: 0\n  };\n  let maxImageRect = {\n    width: 0,\n    height: 0\n  };\n  const {\n    slides,\n    currentIndex\n  } = useLightboxState();\n  const {\n    imageFit\n  } = useLightboxProps().carousel;\n  const {\n    maxZoomPixelRatio\n  } = useZoomProps();\n  if (slideRect && currentIndex < slides.length) {\n    const slide = {\n      ...slides[currentIndex],\n      ...imageDimensions\n    };\n    if (isImageSlide(slide)) {\n      const cover = isImageFitCover(slide, imageFit);\n      const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map(x => x.width)) || []).concat(slide.width ? [slide.width] : []));\n      const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map(x => x.height)) || []).concat(slide.height ? [slide.height] : []));\n      if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n        maxImageRect = cover ? {\n          width: Math.round(Math.min(width, slideRect.width / slideRect.height * height)),\n          height: Math.round(Math.min(height, slideRect.height / slideRect.width * width))\n        } : {\n          width,\n          height\n        };\n        maxImageRect = {\n          width: maxImageRect.width * maxZoomPixelRatio,\n          height: maxImageRect.height * maxZoomPixelRatio\n        };\n        imageRect = cover ? {\n          width: Math.min(slideRect.width, maxImageRect.width, width),\n          height: Math.min(slideRect.height, maxImageRect.height, height)\n        } : {\n          width: Math.round(Math.min(slideRect.width, slideRect.height / height * width, width)),\n          height: Math.round(Math.min(slideRect.height, slideRect.width / width * height, height))\n        };\n      }\n    }\n  }\n  const maxZoom = imageRect.width ? Math.max(round(maxImageRect.width / imageRect.width, 5), 1) : 1;\n  return {\n    imageRect,\n    maxZoom\n  };\n}\nfunction distance(pointerA, pointerB) {\n  return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n  const activePointers = React.useRef([]);\n  const lastPointerDown = React.useRef(0);\n  const pinchZoomDistance = React.useRef();\n  const {\n    globalIndex\n  } = useLightboxState();\n  const {\n    containerRef,\n    subscribeSensors\n  } = useController();\n  const {\n    keyboardMoveDistance,\n    zoomInMultiplier,\n    wheelZoomDistanceFactor,\n    scrollToZoom,\n    doubleTapDelay,\n    doubleClickDelay,\n    doubleClickMaxStops,\n    pinchZoomDistanceFactor\n  } = useZoomProps();\n  const translateCoordinates = React.useCallback(event => {\n    if (containerRef.current) {\n      const {\n        pageX,\n        pageY\n      } = event;\n      const {\n        scrollX,\n        scrollY\n      } = window;\n      const {\n        left,\n        top,\n        width,\n        height\n      } = containerRef.current.getBoundingClientRect();\n      return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n    }\n    return [];\n  }, [containerRef]);\n  const onKeyDown = useEventCallback(event => {\n    const preventDefault = () => {\n      event.preventDefault();\n      event.stopPropagation();\n    };\n    if (zoom > 1) {\n      const move = (deltaX, deltaY) => {\n        preventDefault();\n        changeOffsets(deltaX, deltaY);\n      };\n      if (event.key === \"ArrowDown\") {\n        move(0, keyboardMoveDistance);\n      } else if (event.key === \"ArrowUp\") {\n        move(0, -keyboardMoveDistance);\n      } else if (event.key === \"ArrowLeft\") {\n        move(-keyboardMoveDistance, 0);\n      } else if (event.key === \"ArrowRight\") {\n        move(keyboardMoveDistance, 0);\n      }\n    }\n    const handleChangeZoom = zoomValue => {\n      preventDefault();\n      changeZoom(zoomValue);\n    };\n    const hasMeta = () => event.getModifierState(\"Meta\");\n    if (event.key === \"+\" || event.key === \"=\" && hasMeta()) {\n      handleChangeZoom(zoom * zoomInMultiplier);\n    } else if (event.key === \"-\" || event.key === \"_\" && hasMeta()) {\n      handleChangeZoom(zoom / zoomInMultiplier);\n    } else if (event.key === \"0\" && hasMeta()) {\n      handleChangeZoom(1);\n    }\n  });\n  const onWheel = useEventCallback(event => {\n    if (event.ctrlKey || scrollToZoom) {\n      if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n        event.stopPropagation();\n        changeZoom(zoom * (1 - event.deltaY / wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n        return;\n      }\n    }\n    if (zoom > 1) {\n      event.stopPropagation();\n      if (!scrollToZoom) {\n        changeOffsets(event.deltaX, event.deltaY);\n      }\n    }\n  });\n  const clearPointer = React.useCallback(event => {\n    const pointers = activePointers.current;\n    pointers.splice(0, pointers.length, ...pointers.filter(p => p.pointerId !== event.pointerId));\n  }, []);\n  const replacePointer = React.useCallback(event => {\n    clearPointer(event);\n    event.persist();\n    activePointers.current.push(event);\n  }, [clearPointer]);\n  const onPointerDown = useEventCallback(event => {\n    var _a;\n    const pointers = activePointers.current;\n    if (!((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n      return;\n    }\n    if (zoom > 1) {\n      event.stopPropagation();\n    }\n    const {\n      timeStamp\n    } = event;\n    if (pointers.length === 0 && timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n      lastPointerDown.current = 0;\n      changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n    } else {\n      lastPointerDown.current = timeStamp;\n    }\n    replacePointer(event);\n    if (pointers.length === 2) {\n      pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n    }\n  });\n  const onPointerMove = useEventCallback(event => {\n    const pointers = activePointers.current;\n    const activePointer = pointers.find(p => p.pointerId === event.pointerId);\n    if (pointers.length === 2 && pinchZoomDistance.current) {\n      event.stopPropagation();\n      replacePointer(event);\n      const currentDistance = distance(pointers[0], pointers[1]);\n      const delta = currentDistance - pinchZoomDistance.current;\n      if (Math.abs(delta) > 0) {\n        changeZoom(zoom * (1 + delta / pinchZoomDistanceFactor), true, ...pointers.map(x => translateCoordinates(x)).reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n        pinchZoomDistance.current = currentDistance;\n      }\n      return;\n    }\n    if (zoom > 1) {\n      event.stopPropagation();\n      if (activePointer) {\n        if (pointers.length === 1) {\n          changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n        }\n        replacePointer(event);\n      }\n    }\n  });\n  const onPointerUp = React.useCallback(event => {\n    const pointers = activePointers.current;\n    if (pointers.length === 2 && pointers.find(p => p.pointerId === event.pointerId)) {\n      pinchZoomDistance.current = undefined;\n    }\n    clearPointer(event);\n  }, [clearPointer]);\n  const cleanupSensors = React.useCallback(() => {\n    const pointers = activePointers.current;\n    pointers.splice(0, pointers.length);\n    lastPointerDown.current = 0;\n    pinchZoomDistance.current = undefined;\n  }, []);\n  usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n  React.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n  React.useEffect(() => {\n    if (!disabled) {\n      return cleanup(cleanupSensors, subscribeSensors(EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(EVENT_ON_WHEEL, onWheel));\n    }\n    return () => {};\n  }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\nfunction getCurrentSource(slides, currentIndex) {\n  if (currentIndex < slides.length) {\n    const slide = slides[currentIndex];\n    if (isImageSlide(slide)) return slide.src;\n  }\n  return undefined;\n}\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n  const [zoom, setZoom] = React.useState(1);\n  const [offsetX, setOffsetX] = React.useState(0);\n  const [offsetY, setOffsetY] = React.useState(0);\n  const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n  const {\n    slides,\n    currentIndex,\n    globalIndex\n  } = useLightboxState();\n  const {\n    containerRect,\n    slideRect\n  } = useController();\n  const {\n    zoomInMultiplier\n  } = useZoomProps();\n  const currentSource = getCurrentSource(slides, currentIndex);\n  const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n  useLayoutEffect(() => {\n    setZoom(1);\n    setOffsetX(0);\n    setOffsetY(0);\n  }, [globalIndex, currentSource]);\n  const changeOffsets = React.useCallback((dx, dy, targetZoom) => {\n    const newZoom = targetZoom || zoom;\n    const newOffsetX = offsetX - (dx || 0);\n    const newOffsetY = offsetY - (dy || 0);\n    const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n    const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n    setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n    setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n  }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n  const changeZoom = React.useCallback((targetZoom, rapid, dx, dy) => {\n    const newZoom = round(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n    if (newZoom === zoom) return;\n    if (!rapid) {\n      animate();\n    }\n    changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n    setZoom(newZoom);\n  }, [zoom, maxZoom, changeOffsets, animate]);\n  const handleControllerRectChange = useEventCallback(() => {\n    if (zoom > 1) {\n      if (zoom > maxZoom) {\n        changeZoom(maxZoom, true);\n      }\n      changeOffsets();\n    }\n  });\n  useLayoutEffect(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n  const zoomIn = React.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n  const zoomOut = React.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n  return {\n    zoom,\n    offsetX,\n    offsetY,\n    disabled,\n    changeOffsets,\n    changeZoom,\n    zoomIn,\n    zoomOut\n  };\n}\nconst ZoomControllerContext = React.createContext(null);\nconst useZoom = makeUseContext(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  const [zoomWrapper, setZoomWrapper] = React.useState();\n  const {\n    slideRect\n  } = useController();\n  const {\n    imageRect,\n    maxZoom\n  } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n  const {\n    zoom,\n    offsetX,\n    offsetY,\n    disabled,\n    changeZoom,\n    changeOffsets,\n    zoomIn,\n    zoomOut\n  } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n  useZoomCallback(zoom, disabled);\n  useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n  const zoomRef = React.useMemo(() => ({\n    zoom,\n    maxZoom,\n    offsetX,\n    offsetY,\n    disabled,\n    zoomIn,\n    zoomOut,\n    changeZoom\n  }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n  React.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n  const context = React.useMemo(() => ({\n    ...zoomRef,\n    setZoomWrapper\n  }), [zoomRef, setZoomWrapper]);\n  return React.createElement(ZoomControllerContext.Provider, {\n    value: context\n  }, children);\n}\nconst ZoomInIcon = createIcon(\"ZoomIn\", React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), React.createElement(\"path\", {\n  d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"\n})));\nconst ZoomOutIcon = createIcon(\"ZoomOut\", React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"\n}));\nconst ZoomButton = React.forwardRef(function ZoomButton(_ref2, ref) {\n  let {\n    zoomIn,\n    onLoseFocus\n  } = _ref2;\n  const wasEnabled = React.useRef(false);\n  const wasFocused = React.useRef(false);\n  const {\n    zoom,\n    maxZoom,\n    zoomIn: zoomInCallback,\n    zoomOut: zoomOutCallback,\n    disabled: zoomDisabled\n  } = useZoom();\n  const {\n    render\n  } = useLightboxProps();\n  const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n  React.useEffect(() => {\n    if (disabled && wasEnabled.current && wasFocused.current) {\n      onLoseFocus();\n    }\n    if (!disabled) {\n      wasEnabled.current = true;\n    }\n  }, [disabled, onLoseFocus]);\n  return React.createElement(IconButton, {\n    ref: ref,\n    disabled: disabled,\n    label: zoomIn ? \"Zoom in\" : \"Zoom out\",\n    icon: zoomIn ? ZoomInIcon : ZoomOutIcon,\n    renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut,\n    onClick: zoomIn ? zoomInCallback : zoomOutCallback,\n    onFocus: () => {\n      wasFocused.current = true;\n    },\n    onBlur: () => {\n      wasFocused.current = false;\n    }\n  });\n});\nfunction ZoomButtonsGroup() {\n  const zoomInRef = React.useRef(null);\n  const zoomOutRef = React.useRef(null);\n  const {\n    focus\n  } = useController();\n  const focusSibling = React.useCallback(sibling => {\n    var _a, _b;\n    if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n      (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n    } else {\n      focus();\n    }\n  }, [focus]);\n  const focusZoomIn = React.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n  const focusZoomOut = React.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n  return React.createElement(React.Fragment, null, React.createElement(ZoomButton, {\n    zoomIn: true,\n    ref: zoomInRef,\n    onLoseFocus: focusZoomOut\n  }), React.createElement(ZoomButton, {\n    ref: zoomOutRef,\n    onLoseFocus: focusZoomIn\n  }));\n}\nfunction ZoomToolbarControl() {\n  const {\n    render\n  } = useLightboxProps();\n  const zoomRef = useZoom();\n  if (render.buttonZoom) {\n    return React.createElement(React.Fragment, null, render.buttonZoom(zoomRef));\n  }\n  return React.createElement(ZoomButtonsGroup, null);\n}\nfunction isResponsiveImageSlide(slide) {\n  var _a;\n  return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer(_ref3, _ref4) {\n  let {\n    current,\n    preload\n  } = _ref3;\n  let {\n    type,\n    source\n  } = _ref4;\n  switch (type) {\n    case \"fetch\":\n      if (!current) {\n        return {\n          current: source\n        };\n      }\n      return {\n        current,\n        preload: source\n      };\n    case \"done\":\n      if (source === preload) {\n        return {\n          current: source\n        };\n      }\n      return {\n        current,\n        preload\n      };\n    default:\n      throw new Error(UNKNOWN_ACTION_TYPE);\n  }\n}\nfunction ResponsiveImage(props) {\n  var _a, _b;\n  const [{\n    current,\n    preload\n  }, dispatch] = React.useReducer(reducer, {});\n  const {\n    slide: image,\n    rect,\n    imageFit,\n    render\n  } = props;\n  const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n  const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n  const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n  const cover = isImageFitCover(image, imageFit);\n  const maxWidth = Math.max(...srcSet.map(x => x.width));\n  const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n  const pixelDensity = devicePixelRatio();\n  const handleResize = useEventCallback(() => {\n    var _a;\n    const targetSource = (_a = srcSet.find(x => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n    if (!current || srcSet.findIndex(x => x.src === current) < srcSet.findIndex(x => x === targetSource)) {\n      dispatch({\n        type: \"fetch\",\n        source: targetSource.src\n      });\n    }\n  });\n  useLayoutEffect(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n  const handlePreload = useEventCallback(currentPreload => dispatch({\n    type: \"done\",\n    source: currentPreload\n  }));\n  const style = {\n    WebkitTransform: \"translateZ(0)\"\n  };\n  if (!cover) {\n    Object.assign(style, rect.width / rect.height < width / height ? {\n      width: \"100%\",\n      height: \"auto\"\n    } : {\n      width: \"auto\",\n      height: \"100%\"\n    });\n  }\n  return React.createElement(React.Fragment, null, preload && preload !== current && React.createElement(ImageSlide, {\n    key: \"preload\",\n    ...props,\n    slide: {\n      ...image,\n      src: preload,\n      srcSet: undefined\n    },\n    style: {\n      position: \"absolute\",\n      visibility: \"hidden\",\n      ...style\n    },\n    onLoad: () => handlePreload(preload),\n    render: {\n      ...render,\n      iconLoading: () => null,\n      iconError: () => null\n    }\n  }), current && React.createElement(ImageSlide, {\n    key: \"current\",\n    ...props,\n    slide: {\n      ...image,\n      src: current,\n      srcSet: undefined\n    },\n    style: style\n  }));\n}\nfunction ZoomWrapper(_ref5) {\n  let {\n    render,\n    slide,\n    offset,\n    rect\n  } = _ref5;\n  var _a;\n  const [imageDimensions, setImageDimensions] = React.useState();\n  const zoomWrapperRef = React.useRef(null);\n  const {\n    zoom,\n    maxZoom,\n    offsetX,\n    offsetY,\n    setZoomWrapper\n  } = useZoom();\n  const {\n    carousel,\n    on\n  } = useLightboxProps();\n  const {\n    currentIndex\n  } = useLightboxState();\n  useLayoutEffect(() => {\n    if (offset === 0) {\n      setZoomWrapper({\n        zoomWrapperRef,\n        imageDimensions\n      });\n      return () => setZoomWrapper(undefined);\n    }\n    return () => {};\n  }, [offset, imageDimensions, setZoomWrapper]);\n  let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, {\n    slide,\n    offset,\n    rect,\n    zoom,\n    maxZoom\n  });\n  if (!rendered && isImageSlide(slide)) {\n    const slideProps = {\n      slide,\n      offset,\n      rect,\n      render,\n      imageFit: carousel.imageFit,\n      imageProps: carousel.imageProps,\n      onClick: offset === 0 ? () => {\n        var _a;\n        return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, {\n          index: currentIndex\n        });\n      } : undefined\n    };\n    rendered = isResponsiveImageSlide(slide) ? React.createElement(ResponsiveImage, {\n      key: slide.src,\n      ...slideProps,\n      slide: slide,\n      rect: offset === 0 ? {\n        width: rect.width * zoom,\n        height: rect.height * zoom\n      } : rect\n    }) : React.createElement(ImageSlide, {\n      key: slide.src,\n      onLoad: img => setImageDimensions({\n        width: img.naturalWidth,\n        height: img.naturalHeight\n      }),\n      ...slideProps\n    });\n  }\n  if (!rendered) return null;\n  return React.createElement(\"div\", {\n    ref: zoomWrapperRef,\n    className: clsx(cssClass(CLASS_FULLSIZE), cssClass(CLASS_FLEX_CENTER)),\n    style: offset === 0 ? {\n      transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)`\n    } : undefined\n  }, rendered);\n}\nconst Zoom = _ref6 => {\n  let {\n    augment,\n    addModule\n  } = _ref6;\n  augment(_ref7 => {\n    let {\n      toolbar,\n      render,\n      zoom,\n      ...restProps\n    } = _ref7;\n    return {\n      zoom: resolveZoomProps(zoom),\n      toolbar: addToolbarButton(toolbar, PLUGIN_ZOOM, React.createElement(ZoomToolbarControl, null)),\n      render: {\n        ...render,\n        slide: props => {\n          var _a;\n          return isImageSlide(props.slide) ? React.createElement(ZoomWrapper, {\n            render: render,\n            ...props\n          }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props);\n        }\n      },\n      ...restProps\n    };\n  });\n  addModule(createModule(PLUGIN_ZOOM, ZoomContextProvider));\n};\nexport { Zoom as default };","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { GatsbyImage, getImage } from 'gatsby-plugin-image';\nimport Lightbox from 'yet-another-react-lightbox';\nimport Zoom from 'yet-another-react-lightbox/plugins/zoom';\nimport 'yet-another-react-lightbox/styles.css';\n\n// TODO: - get zoom to work\n\nconst StyledGallery = styled.div`\n  .gallery-container {\n    @media (max-width: 768px) {\n      grid-column: 1 / -1;\n    }\n  }\n\n  .images {\n    display: flex;\n    justify-content: flex-start;\n    gap: 20px;\n    overflow: hidden;\n    max-height: 400px;\n\n    @media (max-width: 768px) {\n      grid-column: 1 / -1;\n    }\n\n    &:hover,\n    &:focus {\n      background-color: transparent;\n      outline: 0;\n      filter: none;\n    }\n  }\n\n  .images-spaced {\n    justify-content: space-around;\n  }\n\n  .images-not-spaced {\n    justify-content: flex-start;\n    gap: 80px;\n  }\n\n  .image-wrapper {\n    mix-blend-mode: multiply;\n    filter: grayscale(100%) contrast(1) brightness(90%);\n    cursor: pointer;\n\n    &:hover,\n    &:focus {\n      background-color: transparent;\n      outline: 0;\n      filter: none;\n    }\n  }\n\n  .img {\n    object-fit: cover;\n    border-radius: var(--border-radius);\n\n    @media (max-width: 768px) {\n      object-fit: cover;\n      width: auto;\n      height: 100%;\n      filter: grayscale(100%) contrast(1) brightness(50%);\n    }\n  }\n\n  .embla__slide {\n    flex: 0 0 100%;\n    min-width: 0;\n  }\n`;\n\nconst Gallery = ({ covers }) => {\n  const zoomRef = React.useRef(null);\n  const [open, setOpen] = useState(false);\n  const [lightBoxIndex, setLightBoxIndex] = useState(0);\n\n  return (\n    <StyledGallery>\n      <div className=\"gallery-container\">\n        <div className={`images ${covers.length <= 3 ? 'images-not-spaced' : 'images-spaced'}`}>\n          {covers.map((cover, index) => (\n            <div\n              key={index}\n              className=\"image-wrapper\"\n              onClick={() => {\n                setLightBoxIndex(index);\n                setOpen(true);\n              }}\n            >\n              <GatsbyImage\n                key={index}\n                className=\"img\"\n                image={getImage(cover.childImageSharp.small)}\n                alt={`Slide ${index + 1}`}\n              />\n            </div>\n          ))}\n        </div>\n\n        <Lightbox\n          open={open}\n          close={() => setOpen(false)}\n          slides={covers}\n          index={lightBoxIndex}\n          render={{\n            slide: ({ slide }, index) => (\n              <div key={index} className=\"image-wrapper\" onClick={() => setOpen(true)}>\n                <GatsbyImage\n                  key={index}\n                  className=\"img\"\n                  image={getImage(slide.childImageSharp.huge)}\n                  alt={`Slide ${index + 1}`}\n                  style={{ maxHeight: '90vh' }}\n                  objectFit=\"contain\"\n                />\n              </div>\n            ),\n          }}\n          plugins={[Zoom]}\n          animation={{ zoom: 500 }}\n          zoom={{\n            ref: zoomRef,\n            maxZoomPixelRatio: 10,\n            zoomInMultiplier: 300,\n            doubleTapDelay: 300,\n            doubleClickDelay: 300,\n            doubleClickMaxStops: 2,\n            keyboardMoveDistance: 50,\n            wheelZoomDistanceFactor: 100,\n            pinchZoomDistanceFactor: 100,\n            disabled: false,\n          }}\n        />\n      </div>\n    </StyledGallery>\n  );\n};\n\nexport default Gallery;\n","import React, { useRef, useEffect } from 'react';\nimport { graphql } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet';\nimport styled from 'styled-components';\nimport { srConfig } from '@config';\nimport sr from '@utils/sr';\nimport { Layout } from '@components';\nimport { usePrefersReducedMotion } from '@hooks';\nimport Gallery from '@components/gallery';\nimport { Icon } from '@components/icons';\n\nconst StyledTableContainer = styled.div`\n  margin: 100px -20px;\n\n  @media (max-width: 768px) {\n    margin: 50px -10px;\n  }\n\n  .section {\n    width: 100%;\n    border-collapse: collapse;\n\n    .hide-on-mobile {\n      @media (max-width: 768px) {\n        display: none;\n      }\n    }\n\n    .content {\n      display: flex;\n      flex-direction: column;\n      gap: 50px;\n      border: 1px solid var(--light-navy);\n      border-radius: 5px;\n\n      @media (max-width: 768px) {\n        gap: 40px;\n      }\n    }\n\n    .content .row-wrapper {\n      &:hover,\n      &:focus {\n        background-color: var(--light-navy);\n      }\n    }\n\n    th,\n    .td {\n      padding: 10px;\n      text-align: left;\n\n      &:first-child {\n        padding-left: 20px;\n\n        @media (max-width: 768px) {\n          padding-left: 10px;\n        }\n      }\n      &:last-child {\n        padding-right: 20px;\n\n        @media (max-width: 768px) {\n          padding-right: 10px;\n        }\n      }\n\n      svg {\n        width: 20px;\n        height: 20px;\n      }\n    }\n\n    .row-wrapper {\n      padding-top: 15px;\n      padding-left: 10px;\n      padding-right: 10px;\n      min-height: 350px;\n    }\n\n    .tr {\n      padding-bottom: 10px;\n      cursor: default;\n\n      .td:first-child {\n        border-top-left-radius: var(--border-radius);\n        border-bottom-left-radius: var(--border-radius);\n      }\n      .td:last-child {\n        border-top-right-radius: var(--border-radius);\n        border-bottom-right-radius: var(--border-radius);\n      }\n    }\n\n    .td {\n      &.year {\n        padding-right: 20px;\n\n        @media (max-width: 768px) {\n          padding-right: 10px;\n          font-size: var(--fz-sm);\n        }\n      }\n\n      &.img {\n        padding-top: 25px;\n        padding-bottom: 25px;\n        padding-right: 50px;\n        padding-left: 50px;\n        color: var(--lightest-slate);\n        font-size: var(--fz-heading);\n        font-weight: 600;\n        line-height: 1.25;\n        width: 100%;\n      }\n\n      &.company {\n        font-size: var(--fz-lg);\n        white-space: nowrap;\n      }\n\n      &.tech {\n        font-size: var(--fz-xxs);\n        font-family: var(--font-mono);\n        line-height: 1.5;\n        .separator {\n          margin: 0 5px;\n        }\n        span {\n          display: inline-block;\n        }\n      }\n\n      &.links {\n        min-width: 100px;\n\n        div {\n          display: flex;\n          align-items: center;\n\n          a {\n            ${({ theme }) => theme.mixins.flexCenter};\n            flex-shrink: 0;\n          }\n\n          a + a {\n            margin-left: 10px;\n          }\n        }\n      }\n    }\n  }\n\n  .gallery {\n    padding-left: 20px;\n    padding-right: 20px;\n  }\n\n  .header {\n    display: flex;\n    flex-direction: row;\n    padding-top: 10px;\n  }\n\n  .title {\n    padding-right: 50px;\n    color: var(--lightest-slate);\n    font-size: var(--fz-heading);\n    font-weight: 600;\n    line-height: 1.25;\n  }\n\n  .title:hover {\n    // color: var(--green); // <--- not clickable so don't highlight\n  }\n\n  .project-links {\n    display: flex;\n    align-items: center;\n    position: relative;\n    margin-top: -5px;\n    color: var(--lightest-slate);\n\n    a {\n      ${({ theme }) => theme.mixins.flexCenter};\n      padding: 10px;\n\n      &.external {\n        svg {\n          width: 22px;\n          height: 22px;\n          margin-top: -4px;\n        }\n      }\n\n      svg {\n        width: 20px;\n        height: 20px;\n      }\n    }\n  }\n`;\n\nconst GalleryPage = ({ location, data }) => {\n  const projects = data.allMarkdownRemark.edges;\n  const revealTitle = useRef(null);\n  const revealTable = useRef(null);\n  const revealProjects = useRef([]);\n  const prefersReducedMotion = usePrefersReducedMotion();\n\n  useEffect(() => {\n    if (prefersReducedMotion) {\n      return;\n    }\n    sr.reveal(revealTitle.current, srConfig());\n    sr.reveal(revealTable.current, srConfig(200, 0));\n    revealProjects.current.forEach((ref, i) => sr.reveal(ref, srConfig(i * 10)));\n  }, []);\n\n  return (\n    <Layout location={location}>\n      <Helmet title=\"Gallery\" />\n\n      <main>\n        <header ref={revealTitle}>\n          <h1 className=\"big-heading\">Gallery</h1>\n          <p className=\"subtitle\">To get the gist</p>\n        </header>\n\n        <StyledTableContainer ref={revealTable}>\n          <div className=\"section\">\n            <div className=\"content\">\n              {projects.length > 0 &&\n                projects.map(({ node }, i) => {\n                  const { id, title, external, tech, github, covers } = node.frontmatter;\n\n                  return (\n                    <div className=\"row-wrapper\" id={id} key={i + title}>\n                      <div className=\"tr\" ref={el => (revealProjects.current[i] = el)}>\n                        <div className=\"td header\">\n                          <div className=\"title\">{title}</div>\n                          <div className=\"project-links hide-on-mobile\">\n                            {github && (\n                              <a href={github} aria-label=\"GitHub Link\">\n                                <Icon name=\"GitHub\" />\n                              </a>\n                            )}\n                            {external && (\n                              <a href={external} aria-label=\"External Link\" className=\"external\">\n                                <Icon name=\"External\" />\n                              </a>\n                            )}\n                          </div>\n                        </div>\n\n                        <div className=\"td gallery\">\n                          <Gallery node={node} covers={covers} />\n                        </div>\n\n                        <div className=\"td tech hide-on-mobile\">\n                          {tech?.length > 0 &&\n                            tech.map((item, i) => (\n                              <span key={i + item}>\n                                {item}\n                                {''}\n                                {i !== tech.length - 1 && (\n                                  <span className=\"separator\">&middot;</span>\n                                )}\n                              </span>\n                            ))}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n            </div>\n          </div>\n        </StyledTableContainer>\n      </main>\n    </Layout>\n  );\n};\nGalleryPage.propTypes = {\n  location: PropTypes.object.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\nexport default GalleryPage;\n\nexport const pageQuery = graphql`\n  {\n    allMarkdownRemark(\n      filter: {\n        fileAbsolutePath: { regex: \"/content/(featured|projects)/\" }\n        frontmatter: { showInGallery: { ne: false } }\n      }\n      sort: { fields: [frontmatter___id], order: ASC }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            id\n            date\n            title\n            tech\n            github\n            external\n            covers {\n              childImageSharp {\n                small: gatsbyImageData(\n                  height: 350\n                  placeholder: BLURRED\n                  formats: [AUTO, WEBP, AVIF]\n                  layout: CONSTRAINED\n                )\n                large: gatsbyImageData(\n                  height: 600\n                  placeholder: BLURRED\n                  formats: [AUTO, WEBP, AVIF]\n                  layout: CONSTRAINED\n                )\n                huge: gatsbyImageData(\n                  height: 1200\n                  placeholder: BLURRED\n                  formats: [AUTO, WEBP, AVIF]\n                  layout: CONSTRAINED\n                )\n              }\n            }\n          }\n          html\n        }\n      }\n    }\n  }\n`;\n"],"names":["MODULE_CAROUSEL","MODULE_CONTROLLER","MODULE_PORTAL","MODULE_TOOLBAR","PLUGIN_ZOOM","SLIDE_STATUS_LOADING","SLIDE_STATUS_ERROR","SLIDE_STATUS_COMPLETE","SLIDE_STATUS_PLACEHOLDER","activeSlideStatus","status","CLASS_FULLSIZE","CLASS_FLEX_CENTER","CLASS_NO_SCROLL_PADDING","ACTION_PREV","ACTION_NEXT","ACTION_SWIPE","ACTION_CLOSE","EVENT_ON_POINTER_DOWN","EVENT_ON_POINTER_MOVE","EVENT_ON_POINTER_UP","EVENT_ON_POINTER_LEAVE","EVENT_ON_POINTER_CANCEL","EVENT_ON_KEY_DOWN","EVENT_ON_KEY_UP","EVENT_ON_WHEEL","VK_ESCAPE","VK_ARROW_LEFT","VK_ARROW_RIGHT","ELEMENT_ICON","IMAGE_FIT_CONTAIN","IMAGE_FIT_COVER","UNKNOWN_ACTION_TYPE","LightboxDefaultProps","open","close","index","slides","render","plugins","toolbar","buttons","labels","animation","fade","swipe","easing","navigation","carousel","finite","preload","padding","spacing","imageFit","imageProps","controller","ref","focus","aria","touchAction","closeOnPullDown","closeOnBackdropClick","portal","noScroll","disabled","on","styles","className","createModule","name","component","createNode","module","children","traverseNode","node","target","apply","flatMap","n","_a","traverse","nodes","clsx","_len","arguments","length","classes","Array","_key","filter","cls","Boolean","join","cssPrefix$3","cssClass","cssVar","composePrefix","base","prefix","makeComposePrefix","label","lbl","cleanup","_len2","cleaners","_key2","forEach","cleaner","makeUseContext","contextName","context","ctx","Error","hasWindow","window","round","value","factor","undefined","Math","Number","EPSILON","isImageSlide","slide","type","isImageFitCover","image","parseLengthPercentage","input","pixel","parseInt","endsWith","percent","computeSlideRect","containerRect","paddingValue","paddingPixels","width","max","height","devicePixelRatio","getSlideIndex","slidesCount","hasSlides","getSlideIfPresent","getSlide","addToolbarButton","key","button","restToolbar","findIndex","item","buttonWithKey","result","splice","stopNavigationEventsPropagation","stopPropagation","event","onPointerDown","onKeyDown","onWheel","EventsContext","useEvents","EventsProvider","_ref","subscriptions","Object","keys","topic","unsubscribe","callback","cb","publish","_len3","_ref2","_key3","subscribe","push","Provider","LightboxPropsContext","useLightboxProps","LightboxPropsProvider","_ref3","props","LightboxStateContext","useLightboxState","LightboxDispatchContext","useLightboxDispatch","reducer","state","action","increment","globalIndex","currentIndex","currentSlide","duration","LightboxStateProvider","_ref4","dispatch","TimeoutsContext","useTimeouts","TimeoutsProvider","_ref5","timeouts","tid","clearTimeout","removeTimeout","id","setTimeout","fn","delay","IconButton","_ref6","label$1","icon","Icon","renderIcon","onClick","style","rest","svgIcon","xmlns","viewBox","focusable","displayName","createIcon","glyph","fill","d","CloseIcon","PreviousIcon","NextIcon","LoadingIcon","from","map","_","array","x1","y1","x2","y2","strokeLinecap","strokeWidth","stroke","strokeOpacity","transform","ErrorIcon","useLayoutEffect","useMotionPreference","reduceMotion","setReduceMotion","_b","mediaQuery","matchMedia","call","matches","listener","addEventListener","removeEventListener","useAnimation","nodeRef","computeAnimation","snapshot","_c","current","keyframes","onfinish","getBoundingClientRect","x","y","z","matcher","getComputedStyle","match","values","split","str","currentTransformation","cancel","animate","err","console","error","prepareAnimation","currentSnapshot","isAnimationPlaying","playState","useContainerRect","containerRef","observerRef","setContainerRect","setContainerRef","disconnect","updateContainerRect","parse","parseFloat","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","ResizeObserver","observe","useDelay","timeoutId","useEventCallback","_len4","args","_key4","setRef","useForkRef","refA","refB","refValue","useLoseFocus","focused","onFocus","onBlur","useRTL","isRTL","setIsRTL","document","documentElement","direction","useThrottle","lastCallbackTime","delayCallback","executeCallback","Date","now","_len5","_key5","_len6","_key6","slidePrefix","slideImagePrefix","ImageSlide","_ref7","offset","rect","onLoad","_d","_e","_f","_g","setStatus","imageRef","handleLoading","img","decode","Promise","resolve","catch","then","parentNode","setImageRef","complete","handleOnLoad","currentTarget","onError","cover","nonInfinite","fallback","isFinite","maxWidth","srcSet","concat","naturalWidth","maxHeight","naturalHeight","defaultStyle","sort","a","b","src","sizes","min","MAX_VALUE","imagePropsStyle","imagePropsClassName","restImageProps","draggable","alt","iconLoading","iconError","SwipeState","Gesture","usePointerEvents","subscribeSensors","onPointerMove","onPointerUp","SWIPE_THRESHOLD","WHEEL","preventDefault","abs","deltaX","deltaY","ctrlKey","cssContainerPrefix","ControllerContext","useController","ControllerModule","_ref8","toolbarWidth","setToolbarWidth","swipeState","setSwipeState","NONE","swipeOffset","pullDownOffset","pullDownOpacity","registerSensors","subscribers","notifySubscribers","isPropagationStopped","onPointerLeave","onPointerCancel","onKeyUp","unshift","listeners","el","useSensors","cleanupAnimationIncrement","cleanupSwipeOffset","cleanupPullDownOffset","handleContainerRef","passive","usePreventSwipeNavigation","carouselRef","setCarouselRef","rtl","getLightboxProps","getLightboxState","prev","params","next","isSwipeValid","setSwipeOffset","setProperty","setPullDownOffset","preparePullDownAnimation","translate","opacity","pullDown","ANIMATION","parsedSpacing","spacingValue","currentSwipeOffset","swipeDuration","swipeEasing","count","newSwipeState","newSwipeAnimationDuration","containerWidth","elapsedTime","expectedTime","swipeParams","SWIPE","pullDownParams","PULL_DOWN","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","pullDownEnabled","onPullDownStart","onPullDownProgress","onPullDownFinish","onPullDownCancel","pointers","activePointer","startTime","gesture","clearPointer","pointerId","currentPointers","p","addPointer","persist","find","currentOffset","pointer","isCurrentPointer","clientX","clientY","startGesture","newGesture","usePointerSwipe","intent","intentCleanup","resetCleanup","wheelResidualMomentum","cancelSwipeIntentCleanup","cancelSwipeResetCleanup","handleCleanup","handleCancelSwipe","currentSwipeIntent","newSwipeOffset","sign","useWheelSwipe","focusOnMount","onViewCallback","view","slideRect","container","role","tabIndex","controls","cssPrefix$2","cssSlidePrefix","CarouselSlide","_ref9","click","HTMLElement","classList","contains","rendered","slideHeader","slideContainer","_ref10","slideFooter","renderSlide","Placeholder","CarouselModule","_ref11","items","minimum","floor","calculatePreload","i","useNavigationState","prevDisabled","nextDisabled","NavigationButton","_ref12","NavigationModule","_ref13","buttonPrev","buttonNext","iconPrev","iconNext","throttle","handleKeyDown","useKeyboardNavigation","navigationPrev","navigationNext","noScrollPadding","isHTMLElement","element","padScrollbar","property","computedValue","originalValue","getPropertyValue","removeProperty","NoScrollModule","_ref14","body","scrollbar","innerWidth","elements","getElementsByTagName","add","remove","clean","cssPrefix$1","setAttribute","attribute","previousValue","getAttribute","removeAttribute","PortalModule","_ref15","mounted","setMounted","visible","setVisible","animationDuration","handleClose","exiting","exited","handleEnter","scrollTop","entering","indexOf","tagName","entered","handleExit","handleRef","createPortal","root","RootModule","_ref16","ToolbarModule","_ref17","buttonClose","iconClose","renderNode","child","mergeAnimation","defaultAnimation","defaultAnimationEasing","restDefaultAnimation","restAnimation","Lightbox","_ref18","restProps","defaultCarousel","defaultRender","defaultToolbar","defaultController","defaultNoScroll","defaultOn","defaultSlides","defaultIndex","defaultPlugins","restDefaultProps","config","augmentation","augmentations","pop","addParent","append","addChild","precede","addSibling","addModule","replace","augment","plugin","reduce","acc","withPlugins","defaultZoomProps","maxZoomPixelRatio","zoomInMultiplier","doubleTapDelay","doubleClickDelay","doubleClickMaxStops","keyboardMoveDistance","wheelZoomDistanceFactor","pinchZoomDistanceFactor","scrollToZoom","resolveZoomProps","zoom","useZoomProps","distance","pointerA","pointerB","useZoomState","imageRect","maxZoom","zoomWrapperRef","setZoom","offsetX","setOffsetX","offsetY","setOffsetY","zoomAnimation","zoomAnimationStart","zoomAnimationDuration","playZoomAnimation","useZoomAnimation","currentSource","getCurrentSource","changeOffsets","dx","dy","targetZoom","newZoom","newOffsetX","newOffsetY","maxOffsetX","maxOffsetY","changeZoom","rapid","handleControllerRectChange","zoomIn","zoomOut","ZoomControllerContext","useZoom","ZoomContextProvider","zoomWrapper","setZoomWrapper","imageDimensions","maxImageRect","useZoomImageRect","onZoomCallback","useZoomCallback","activePointers","lastPointerDown","pinchZoomDistance","translateCoordinates","pageX","pageY","scrollX","scrollY","left","top","move","handleChangeZoom","zoomValue","hasMeta","getModifierState","replacePointer","timeStamp","pointerType","currentDistance","delta","coordinate","cleanupSensors","useZoomSensors","zoomRef","ZoomInIcon","ZoomOutIcon","ZoomButton","onLoseFocus","wasEnabled","wasFocused","zoomInCallback","zoomOutCallback","zoomDisabled","iconZoomIn","iconZoomOut","ZoomButtonsGroup","zoomInRef","zoomOutRef","focusSibling","sibling","focusZoomIn","focusZoomOut","ZoomToolbarControl","buttonZoom","source","ResponsiveImage","targetWidth","pixelDensity","handleResize","targetSource","handlePreload","currentPreload","WebkitTransform","assign","position","visibility","ZoomWrapper","setImageDimensions","slideProps","isResponsiveImageSlide","Zoom","StyledGallery","styled","div","withConfig","componentId","covers","React","setOpen","useState","lightBoxIndex","setLightBoxIndex","GatsbyImage","getImage","childImageSharp","small","huge","objectFit","StyledTableContainer","theme","mixins","flexCenter","location","data","projects","allMarkdownRemark","edges","revealTitle","useRef","revealTable","revealProjects","prefersReducedMotion","usePrefersReducedMotion","useEffect","sr","reveal","srConfig","Layout","Helmet","title","external","tech","github","frontmatter","href","Gallery"],"sourceRoot":""}